{
  "version": 3,
  "sources": ["../../../src/pages/sp_db/SP_DB_Template.js", "../../../src/common/utilities.js", "../../../src/pages/sp_db/sp_db.js"],
  "sourcesContent": ["\uFEFFconst html = String.raw;\r\n\r\nexport const spDbTemplate = html`\r\n  <div class=\"audit\">\r\n    <iframe id=\"CsvExpFrame\" style=\"display: none\"></iframe>\r\n\r\n    <div\r\n      id=\"divCounter\"\r\n      style=\"display: none\"\r\n      title=\"used to auto refresh the page\"\r\n    >\r\n      600\r\n    </div>\r\n\r\n    <div style=\"padding-bottom: 10px; display: none\" id=\"divRefresh\">\r\n      <a\r\n        title=\"Refresh this page\"\r\n        href=\"javascript:void(0)\"\r\n        onclick=\"Audit.SPReport.Report.Refresh()\"\r\n        ><span class=\"ui-icon ui-icon-refresh\"></span>Refresh</a\r\n      >\r\n    </div>\r\n\r\n    <div id=\"divLoading\" style=\"color: green; padding-bottom: 10px\">\r\n      Please Wait... Loading\r\n    </div>\r\n\r\n    <div id=\"tabs\" style=\"display: none; margin-top: 20px\">\r\n      <ul>\r\n        <li><a href=\"#tabs-0\">Status Report</a></li>\r\n        <li><a href=\"#tabs-1\">Responses</a></li>\r\n      </ul>\r\n      <div id=\"tabs-0\">\r\n        <div\r\n          id=\"lblStatusReportResponsesMsg\"\r\n          style=\"padding-top: 5px; color: green\"\r\n          data-bind=\"visible: arrResponses().length == 0\"\r\n        >\r\n          <span class=\"ui-icon ui-icon-info\"></span>There are 0 responses for\r\n          your review\r\n        </div>\r\n        <div\r\n          id=\"divButtons\"\r\n          style=\"padding-top: 3px\"\r\n          data-bind=\"visible: arrResponses().length > 0\"\r\n        >\r\n          <a\r\n            id=\"btnPrint1\"\r\n            title=\"Click here to Print\"\r\n            href=\"javascript:void(0)\"\r\n            class=\"hideOnPrint\"\r\n            ><span class=\"ui-icon ui-icon-print\">Print</span></a\r\n          >\r\n          <a class=\"export1 hideOnPrint\" title=\"Export to CSV\" href=\"#\"\r\n            ><span class=\"ui-icon ui-icon-disk\">Export to CSV</span></a\r\n          >\r\n          <a\r\n            id=\"btnViewAll\"\r\n            title=\"View All\"\r\n            href=\"javascript:void(0)\"\r\n            data-bind=\"visible: arrFilteredResponsesCount() < arrResponses().length, click: ClearFilters\"\r\n            ><span class=\"ui-icon ui-icon-circle-zoomout\"></span>View All\r\n            Responses</a\r\n          >\r\n        </div>\r\n\r\n        <div id=\"divStatusReportRespones\">\r\n          <table\r\n            id=\"tblStatusReportResponses\"\r\n            class=\"tablesorter report\"\r\n            data-bind=\"visible: arrResponses().length > 0\"\r\n          >\r\n            <thead>\r\n              <tr\r\n                valign=\"top\"\r\n                class=\"rowFilters\"\r\n                data-bind=\"visible: arrResponses().length > 0\"\r\n              >\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\">\r\n                  <select\r\n                    id=\"ddlResponseRequestID\"\r\n                    data-bind=\"options: GetDistinctResponsesDDVals('reqNumber'), value: filterRequestID, optionsCaption: '-Select-', event:{ change: FilterChanged}\"\r\n                  ></select>\r\n                </th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\">\r\n                  <select\r\n                    id=\"ddlResponseRequestStatus\"\r\n                    data-bind=\"options: GetDistinctResponsesDDVals('requestStatus'), value: filterRequestStatus, optionsCaption: '-Select-', event:{ change: FilterChanged}\"\r\n                  ></select>\r\n                </th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\">\r\n                  <select\r\n                    id=\"ddlResponseRequestInternalDueDate\"\r\n                    data-bind=\"options: GetDistinctResponsesDDVals('internalDueDate'), value: filterRequestIntDueDate, optionsCaption: '-Select-', event:{ change: FilterChanged}\"\r\n                  ></select>\r\n                </th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\">\r\n                  <select\r\n                    id=\"ddlResponseSampleNum\"\r\n                    data-bind=\"options: GetDistinctResponsesDDVals('sample'), value: filterSampleNum, optionsCaption: '-Select-', event:{ change: FilterChanged}\"\r\n                  ></select>\r\n                </th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\">\r\n                  <select\r\n                    id=\"ddlResponseName\"\r\n                    data-bind=\"options: GetDistinctResponsesDDVals('title'), value: filterResponseName, optionsCaption: '-Select-', event:{ change: FilterChanged}\"\r\n                  ></select>\r\n                </th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\">\r\n                  <select\r\n                    id=\"ddlResponseStatus\"\r\n                    data-bind=\"options: GetDistinctResponsesDDVals('status'), value: filterResponseStatus, optionsCaption: '-Select-', event:{ change: FilterChanged}\"\r\n                  ></select>\r\n                </th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\"></th>\r\n                <th class=\"sorter-false\" nowrap=\"nowrap\"></th>\r\n              </tr>\r\n              <tr valign=\"top\">\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Request #</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Request Status</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Internal Due Date</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Sample #</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Response Name</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Status</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\"># of Documents</th>\r\n                <th class=\"sorter-true\" nowrap=\"nowrap\">Modified</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody id=\"fbody\" data-bind=\"foreach: arrResponses\">\r\n              <tr class=\"sr-response-item\" data-bind=\"visible: visibleRow\">\r\n                <td class=\"sr-response-requestNum\">\r\n                  <span data-bind=\"text: reqNumber\"></span>\r\n                </td>\r\n                <td class=\"sr-response-requestStatus\">\r\n                  <span data-bind=\"text: requestStatus\"></span>\r\n                </td>\r\n                <td class=\"sr-response-internalDueDate\">\r\n                  <span data-bind=\"text: internalDueDate\"></span>\r\n                </td>\r\n                <td class=\"sr-response-sample\">\r\n                  <span data-bind=\"text: sample\"></span>\r\n                </td>\r\n                <td class=\"sr-response-title\">\r\n                  <a\r\n                    href=\"javascript:void(0);\"\r\n                    title=\"Go to Response Details\"\r\n                    data-bind=\"click: $parent.GoToResponse\"\r\n                    ><span data-bind=\"text: title\"></span\r\n                  ></a>\r\n                </td>\r\n                <td class=\"sr-response-status\">\r\n                  <span data-bind=\"text: status\"></span>\r\n                </td>\r\n                <td class=\"sr-response-docCount\">\r\n                  <span data-bind=\"text: docCount\"></span>\r\n                </td>\r\n                <td class=\"sr-response-modified\">\r\n                  <span data-bind=\"text: modified\"></span>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n            <tfoot class=\"footer\">\r\n              <tr>\r\n                <th colspan=\"8\">\r\n                  Displaying\r\n                  <span\r\n                    id=\"spanResponsesDisplayedTotal\"\r\n                    style=\"color: green\"\r\n                    data-bind=\"text: arrFilteredResponsesCount()\"\r\n                    >0</span\r\n                  >\r\n                  out of\r\n                  <span\r\n                    style=\"color: green\"\r\n                    data-bind=\"text: arrResponses().length\"\r\n                  ></span>\r\n                  Responses\r\n                </th>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"tabs-1\">\r\n        <div style=\"padding-bottom: 15px\">\r\n          <table>\r\n            <tr>\r\n              <td><span>Responses:</span></td>\r\n              <td>\r\n                <select\r\n                  id=\"ddlResponses\"\r\n                  data-bind=\"options: GetDistinctResponsesDDVals('title'), value: filterResponseName2, optionsCaption: '-Select-'\"\r\n                ></select>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n\r\n        <div id=\"divResponseInfo\" data-bind=\"with: currentResponse\">\r\n          <fieldset>\r\n            <legend>Response Information</legend>\r\n            <table id=\"tblResponseInfo\" class=\"tablesorter\">\r\n              <tbody>\r\n                <tr>\r\n                  <td>Request #</td>\r\n                  <td>\r\n                    <span id=\"requestInfoNum\" data-bind=\"text: number\"></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Request Status</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"requestInfoStatus\"\r\n                      data-bind=\"text: $parent.currentResponseRequestStatus, style: { color: $parent.currentResponseRequestStatusStyle }\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Subject</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"requestInfoSub\"\r\n                      data-bind=\"text: request.subject\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Due Date</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"requestInfoInternalDueDate\"\r\n                      data-bind=\"text: request.internalDueDate\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Sample?</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"requestInfoSample\"\r\n                      data-bind=\"text: request.sample, css: request.sample == true ? 'ui-icon ui-icon-check' : 'ui-icon ui-icon-close'\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Response</td>\r\n                  <td>\r\n                    <span id=\"responseInfoName\" data-bind=\"text: title\"></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Response Status</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"responseInfoStatus\"\r\n                      data-bind=\"text: $parent.currentResponseStatus, style: { color:  resStatus == '7-Closed' ? 'red' : 'green' }\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Sample #</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"responseInfoSampleNum\"\r\n                      data-bind=\"text: sample\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Action Office</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"responseInfoAO\"\r\n                      data-bind=\"text: actionOffice\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Related Audit</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"requestInfoRelatedAudit\"\r\n                      data-bind=\"text: request.relatedAudit\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Action Items</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"requestInfoActionItems\"\r\n                      data-bind=\"html: request.actionItems \"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Comments</td>\r\n                  <td>\r\n                    <span\r\n                      id=\"responseInfoComments\"\r\n                      data-bind=\"html: comments\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </fieldset>\r\n        </div>\r\n\r\n        <div id=\"divCoverSheets\" data-bind=\"visible: currentResponse\">\r\n          <fieldset>\r\n            <legend>Cover Sheets/Supplemental Documents</legend>\r\n            <div\r\n              id=\"divEmptyCoversheetsMsg\"\r\n              style=\"border: 0px !important; font-style: italic\"\r\n              data-bind=\"visible: arrCoverSheets().length <= 0\"\r\n            >\r\n              There are 0 cover sheets or supplemental documents\r\n            </div>\r\n            <table\r\n              id=\"tblCoverSheets\"\r\n              class=\"tablesorter report\"\r\n              data-bind=\"visible: arrCoverSheets().length > 0\"\r\n            >\r\n              <thead>\r\n                <tr valign=\"top\">\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Name</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody data-bind=\"foreach: arrCoverSheets\">\r\n                <tr class=\"coversheet-item\">\r\n                  <td class=\"coversheet-title\" title=\"Click to Download\">\r\n                    <a\r\n                      data-bind=\"attr: { href: 'javascript:void(0)', onclick: link}\"\r\n                      ><span data-bind=\"text: title\"></span\r\n                    ></a>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr valign=\"top\">\r\n                  <th nowrap=\"nowrap\">\r\n                    Total:\r\n                    <span\r\n                      id=\"tblCoverSheetsTotal\"\r\n                      data-bind=\"text: arrCoverSheets().length\"\r\n                      >0</span\r\n                    >\r\n                  </th>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </fieldset>\r\n        </div>\r\n\r\n        <div id=\"divResponseDocs\" data-bind=\"visible: currentResponse\">\r\n          <fieldset>\r\n            <legend>Response Documents</legend>\r\n            <div\r\n              id=\"divEmptyResponseDocsMsg\"\r\n              style=\"border: 0px !important; font-style: italic\"\r\n              data-bind=\"visible: arrResponseDocs().length <= 0\"\r\n            >\r\n              There are 0 response documents\r\n            </div>\r\n            <table\r\n              id=\"tblResponseDocs\"\r\n              class=\"tablesorter report\"\r\n              data-bind=\"visible: arrResponseDocs().length > 0\"\r\n            >\r\n              <thead>\r\n                <tr valign=\"top\">\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Type</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Name</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Receipt Date</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">File Size</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Checked Out</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Status</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Reason</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Modified</th>\r\n                  <th class=\"sorter-false\" nowrap=\"nowrap\">Modified By</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody\r\n                data-bind=\"foreach: { data: arrResponseDocs, as: 'responseDocSummary'} \"\r\n              >\r\n                <tr class=\"requestInfo-response-doc\">\r\n                  <td colspan=\"10\">\r\n                    <img\r\n                      style=\"background-color: transparent\"\r\n                      src=\"/_layouts/images/minus.gif\"\r\n                      title=\"Expand/Collapse\"\r\n                    /><span\r\n                      data-bind=\"text: responseDocSummary.responseTitle\"\r\n                    ></span>\r\n                  </td>\r\n                </tr>\r\n\r\n                <!-- ko foreach: responseDocSummary.responseDocs-->\r\n\r\n                <tr\r\n                  class=\"requestInfo-response-doc-item\"\r\n                  data-bind=\"style: styleTag\"\r\n                >\r\n                  <td>\r\n                    <img\r\n                      data-bind=\"attr:{ src: $parent.siteUrl + '/_layouts/images/' + docIcon}\"\r\n                    />\r\n                  </td>\r\n                  <td\r\n                    class=\"requestInfo-response-doc-title\"\r\n                    title=\"Click to Download\"\r\n                  >\r\n                    <a\r\n                      data-bind=\"attr: { href: 'javascript:void(0)', onclick: link}\"\r\n                      ><span data-bind=\"text: title\"></span\r\n                    ></a>\r\n                  </td>\r\n                  <td nowrap data-bind=\"text: receiptDate\"></td>\r\n                  <td nowrap data-bind=\"text: fileSize\"></td>\r\n                  <td nowrap data-bind=\"text: checkedOutBy\"></td>\r\n                  <td nowrap data-bind=\"text: documentStatus\"></td>\r\n                  <td nowrap data-bind=\"text: rejectReason\"></td>\r\n                  <td\r\n                    class=\"requestInfo-response-doc-modified\"\r\n                    data-bind=\"text: modifiedDate\"\r\n                  ></td>\r\n                  <td\r\n                    class=\"requestInfo-response-doc-modifiedBy\"\r\n                    data-bind=\"text: modifiedBy\"\r\n                  ></td>\r\n                </tr>\r\n\r\n                <!-- /ko -->\r\n              </tbody>\r\n              <tfoot>\r\n                <tr valign=\"top\">\r\n                  <th colspan=\"9\" nowrap=\"nowrap\">\r\n                    Total:\r\n                    <span\r\n                      id=\"tblResponseDocsTotal\"\r\n                      data-bind=\"text: cntResponseDocs\"\r\n                      >0</span\r\n                    >\r\n                  </th>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </fieldset>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"divTest\"></div>\r\n  </div>\r\n`;\r\n", "\uFEFFwindow.Audit = window.Audit || {};\r\nAudit.Common = Audit.Common || {};\r\n\r\nfunction InitReport() {\r\n  Audit.Common.Utilities = new Audit.Common.NewUtilities();\r\n  Audit.Common.Init();\r\n}\r\n\r\nAudit.Common.Init = function () {};\r\n\r\nAudit.Common.NewUtilities = function () {\r\n  var m_siteUrl = _spPageContextInfo.webServerRelativeUrl; //IE11 in sp 2013 does not recognize L_Menu_BaseUrl\r\n\r\n  var m_listTitleRequests = \"AuditRequests\";\r\n  var m_listNameRequests = \"AuditRequests\";\r\n\r\n  var m_listTitleRequestsInternal = \"AuditRequestsInternal\";\r\n  var m_listNameRequestsInternal = \"AuditRequestsInternal\";\r\n\r\n  var m_listTitleResponses = \"AuditResponses\";\r\n  var m_listNameResponses = \"AuditResponses\";\r\n\r\n  var m_libTitleRequestDocs = \"AuditRequestDocs\";\r\n  var m_libNameRequestDocs = \"AuditRequestDocs\";\r\n\r\n  var m_libTitleCoverSheet = \"AuditCoverSheets\";\r\n  var m_libNameCoverSheet = \"AuditCoverSheets\";\r\n\r\n  var m_libTitleResponseDocs = \"AuditResponseDocs\";\r\n  var m_libNameResponseDocs = \"AuditResponseDocs\";\r\n\r\n  var m_libTitleResponseDocsEA = \"AuditResponseDocsEA\";\r\n  var m_libNameResponseDocsEA = \"AuditResponseDocsEA\";\r\n\r\n  var m_listTitleActionOffices = \"AuditOrganizations\";\r\n  var m_listNameActionOffices = \"AuditOrganizations\";\r\n\r\n  var m_listTitleEmailHistory = \"AuditEmails\";\r\n  var m_listNameEmailHistory = \"AuditEmails\";\r\n\r\n  var m_listTitleBulkResponses = \"AuditBulkResponses\";\r\n  var m_listNameBulkResponses = \"AuditBulkResponses\";\r\n\r\n  var m_listTitleBulkPermissions = \"AuditBulkPermissions\";\r\n  var m_listNameBulkPermissions = \"AuditBulkPermissions\";\r\n\r\n  var m_groupNameSpecialPermName1 = \"CGFS Special Access1\";\r\n  var m_groupNameSpecialPermName2 = \"CGFS Special Access2\";\r\n  var m_groupNameQA = \"Quality Assurance\";\r\n  var m_groupNameEA = \"External Auditors\";\r\n\r\n  var m_libResponseDocsLibraryGUID = null;\r\n\r\n  var m_arrSiteGroups = null;\r\n  var m_arrAOs = null;\r\n  /**\r\n   * Reloads the page, trys to preserve current path\r\n   * @param {bool} hard flag to remove all url params\r\n   * @returns\r\n   */\r\n  function m_fnRefresh(hard = false) {\r\n    if (hard) {\r\n      location.href = location.pathname;\r\n      return;\r\n    }\r\n    var curPath = location.pathname;\r\n\r\n    if ($(\"#tabs\").html() != null && $(\"#tabs\").html() != \"\") {\r\n      var tabIndex = 0;\r\n      try {\r\n        tabIndex = $(\"#tabs\").tabs(\"option\", \"active\");\r\n      } catch (ex) {}\r\n\r\n      curPath += \"?Tab=\" + tabIndex;\r\n\r\n      if (tabIndex == 0 && $(\"#ddlResponseName\").val() != \"\") {\r\n        curPath += \"&ResNum=\" + $(\"#ddlResponseName\").val();\r\n      } else if (tabIndex == 1) {\r\n        var responseNumOpen = $(\"#ddlResponsesOpen\").val();\r\n        var responseNumProcessed = $(\"#ddlResponsesProcessed\").val();\r\n\r\n        if (responseNumOpen != null && responseNumOpen != \"\")\r\n          curPath += \"&ResNum=\" + responseNumOpen;\r\n        else if (responseNumProcessed != null && responseNumProcessed != \"\")\r\n          curPath += \"&ResNum=\" + responseNumProcessed;\r\n      }\r\n\r\n      location.href = curPath;\r\n    } else {\r\n      location.reload();\r\n    }\r\n  }\r\n\r\n  function m_fnOnLoadDisplayTimeStamp() {\r\n    var curDate = new Date();\r\n    $(\"#divLoading\").text(\"Loaded at \" + curDate.format(\"MM/dd/yyyy hh:mm tt\"));\r\n  }\r\n\r\n  function m_fnOnLoadDisplayTabAndResponse() {\r\n    var paramTabIndex = GetUrlKeyValue(\"Tab\");\r\n    if (paramTabIndex != null && paramTabIndex != \"\") {\r\n      $(\"#tabs\").tabs(\"option\", \"active\", paramTabIndex);\r\n    }\r\n\r\n    var bFiltered = false;\r\n\r\n    var paramResponseNum = GetUrlKeyValue(\"ResNum\");\r\n    if (paramResponseNum != null && paramResponseNum != \"\") {\r\n      if (paramTabIndex == 0) {\r\n        if (\r\n          $(\"#ddlResponseName option[value='\" + paramResponseNum + \"']\")\r\n            .length > 0\r\n        ) {\r\n          $(\"#ddlResponseName\").val(paramResponseNum).change();\r\n          bFiltered = true;\r\n        }\r\n      } else {\r\n        if (\r\n          $(\"#ddlResponsesOpen option[value='\" + paramResponseNum + \"']\")\r\n            .length > 0\r\n        ) {\r\n          $(\"#ddlResponsesOpen\").val(paramResponseNum).change();\r\n        } else if (\r\n          $(\"#ddlResponsesProcessed option[value='\" + paramResponseNum + \"']\")\r\n            .length > 0\r\n        ) {\r\n          $(\"#ddlResponsesProcessed\").val(paramResponseNum).change();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!bFiltered) {\r\n      $(\".sr-response-item\").show(); //hiding rows by default\r\n    }\r\n  }\r\n\r\n  function m_fnOnLoadFilterResponses(responseStatus1, responseStatus2) {\r\n    var count = 0;\r\n    var cntOpen = 0;\r\n    var cntReOpened = 0;\r\n    var resStatus1 = 0;\r\n    var resStatus2 = 0;\r\n\r\n    var eacher = $(\".sr-response-item\");\r\n\r\n    eacher.each(function () {\r\n      var reqStatus = $.trim($(this).find(\".sr-response-requestStatus\").text());\r\n      var resStatus = $.trim($(this).find(\".sr-response-status\").text());\r\n\r\n      if (\r\n        (resStatus == responseStatus1 || resStatus == responseStatus2) &&\r\n        (reqStatus == \"Open\" || reqStatus == \"ReOpened\")\r\n      ) {\r\n        $(this).addClass(\"highlighted\");\r\n        count++;\r\n\r\n        if (resStatus == responseStatus1) resStatus1++;\r\n        else if (resStatus == responseStatus2) resStatus2++;\r\n\r\n        if (reqStatus == \"Open\") cntOpen++;\r\n        else if (reqStatus == \"ReOpened\") cntReOpened++;\r\n      }\r\n    });\r\n\r\n    if (count > 0) {\r\n      $(\"#lblStatusReportResponsesMsg\").html(\r\n        \"<span class='ui-icon ui-icon-alert'></span>There are \" +\r\n          count +\r\n          \" Responses pending your review\"\r\n      );\r\n\r\n      if (resStatus1 > 0 && resStatus2 == 0)\r\n        $(\"#ddlResponseStatus\").val(responseStatus1).change();\r\n      else if (resStatus2 > 0 && resStatus1 == 0)\r\n        $(\"#ddlResponseStatus\").val(responseStatus2).change();\r\n    } else\r\n      $(\"#lblStatusReportResponsesMsg\").html(\r\n        \"<span class='ui-icon ui-icon-circle-check'></span>There are 0 Responses pending your review\"\r\n      );\r\n  }\r\n\r\n  function m_fnLoadSiteGroups(itemColl) {\r\n    m_arrSiteGroups = new Array();\r\n\r\n    var listItemEnumerator = itemColl.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var id = oListItem.get_id();\r\n      var loginName = oListItem.get_loginName();\r\n      var title = oListItem.get_title();\r\n\r\n      var groupObject = new Object();\r\n      groupObject[\"ID\"] = id;\r\n      groupObject[\"loginName\"] = loginName;\r\n      groupObject[\"title\"] = title;\r\n      groupObject[\"group\"] = oListItem;\r\n\r\n      m_arrSiteGroups.push(groupObject);\r\n    }\r\n  }\r\n\r\n  function m_fnGetSPSiteGroup(groupName) {\r\n    var userGroup = null;\r\n    if (m_arrSiteGroups != null) {\r\n      for (var x = 0; x < m_arrSiteGroups.length; x++) {\r\n        if (m_arrSiteGroups[x].title == groupName) {\r\n          userGroup = m_arrSiteGroups[x].group;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return userGroup;\r\n  }\r\n\r\n  function m_fnLoadActionOffices(itemColl) {\r\n    m_arrAOs = new Array();\r\n\r\n    var listItemEnumerator = itemColl.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var id = oListItem.get_item(\"ID\");\r\n      var title = oListItem.get_item(\"Title\");\r\n      var userGroup = oListItem.get_item(\"UserGroup\");\r\n      if (userGroup != null) {\r\n        userGroup = userGroup.get_lookupValue();\r\n      } else userGroup = \"\";\r\n\r\n      var aoObject = new Object();\r\n      aoObject[\"ID\"] = id;\r\n      aoObject[\"title\"] = title;\r\n      aoObject[\"userGroup\"] = userGroup;\r\n\r\n      m_arrAOs.push(aoObject);\r\n    }\r\n  }\r\n\r\n  function m_fnGetAOSPGroupName(groupName) {\r\n    //finds the group name corresponding to the lookup field selected\r\n    var userGroup = null;\r\n    if (m_arrAOs != null) {\r\n      for (var x = 0; x < m_arrAOs.length; x++) {\r\n        var oGroup = m_arrAOs[x];\r\n        if (oGroup.title == groupName) {\r\n          userGroup = oGroup.userGroup;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return userGroup;\r\n  }\r\n\r\n  function m_fnCheckSPItemHasGroupPermission(item, groupName, permissionLevel) {\r\n    if (\r\n      item == null ||\r\n      groupName == \"\" ||\r\n      groupName == null ||\r\n      permissionLevel == null\r\n    )\r\n      return false;\r\n\r\n    var match = false;\r\n    var roleAssignments = item.get_roleAssignments();\r\n    if (roleAssignments == null) {\r\n      alert(\"Error retrieving role assignments\");\r\n      return false;\r\n    }\r\n\r\n    var rolesEnumerator = roleAssignments.getEnumerator();\r\n    while (rolesEnumerator.moveNext()) {\r\n      var role = rolesEnumerator.get_current();\r\n      if (role != null) {\r\n        var roleMember = role.get_member();\r\n        if (roleMember.isPropertyAvailable(\"Title\")) {\r\n          var memberTitleName = roleMember.get_title();\r\n\r\n          var roleDefs = role.get_roleDefinitionBindings();\r\n          if (roleDefs != null) {\r\n            var roleDefsEnumerator = roleDefs.getEnumerator();\r\n            while (roleDefsEnumerator.moveNext()) {\r\n              var rd = roleDefsEnumerator.get_current();\r\n              var rdName = rd.get_name();\r\n\r\n              if (\r\n                memberTitleName == groupName &&\r\n                rd.get_basePermissions().has(permissionLevel)\r\n              ) {\r\n                match = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return match;\r\n  }\r\n\r\n  function m_fnGoToResponse(responseTitle, isIA) {\r\n    if (!isIA) {\r\n      var bFound = false;\r\n      $(\"#ddlResponsesOpen > option\").each(function () {\r\n        if ($(this).text() == responseTitle) {\r\n          bFound = true;\r\n          notifyId = SP.UI.Notify.addNotification(\r\n            \"Displaying Response (\" + responseTitle + \")\",\r\n            false\r\n          );\r\n          $(\"#ddlResponsesOpen\").val(responseTitle).change();\r\n\r\n          return false;\r\n        }\r\n      });\r\n      if (!bFound) {\r\n        $(\"#ddlResponsesProcessed > option\").each(function () {\r\n          if ($(this).text() == responseTitle) {\r\n            bFound = true;\r\n            notifyId = SP.UI.Notify.addNotification(\r\n              \"Displaying Response (\" + responseTitle + \")\",\r\n              false\r\n            );\r\n            $(\"#ddlResponsesProcessed\").val(responseTitle).change();\r\n\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n\r\n      $(\"#tabs\").tabs({ active: 1 });\r\n    }\r\n  }\r\n\r\n  function m_fnGetResponseDocStyleTag2(documentStatus) {\r\n    var styleTag = {};\r\n    if (documentStatus == \"Archived\")\r\n      styleTag = { \"background-color\": \"Gainsboro\" };\r\n    else if (documentStatus == \"Approved\")\r\n      styleTag = { \"background-color\": \"PaleGreen\" };\r\n    else if (documentStatus == \"Rejected\")\r\n      styleTag = { \"background-color\": \"LightSalmon\" };\r\n    else if (documentStatus == \"Sent to QA\")\r\n      styleTag = { \"background-color\": \"LightCyan\" };\r\n    else if (documentStatus == \"Submitted\")\r\n      styleTag = { \"background-color\": \"LemonChiffon\" };\r\n    else if (documentStatus == \"Marked for Deletion\")\r\n      styleTag = {\r\n        \"background-color\": \"Gainsboro\",\r\n        \"font-style\": \"italic\",\r\n      };\r\n    return styleTag;\r\n    //\t\t\tstyleTag = \" style='background-color:Gainsboro; font-style:italic' title='Marked for Deletion by the Action Office' \";\r\n  }\r\n\r\n  function m_fnGetResponseDocStyleTag(documentStatus) {\r\n    var styleTag = \"\";\r\n\r\n    if (documentStatus == \"Archived\")\r\n      styleTag = \" style='background-color:Gainsboro;' \";\r\n    else if (documentStatus == \"Approved\")\r\n      styleTag = \" style='background-color:PaleGreen;' \";\r\n    else if (documentStatus == \"Rejected\")\r\n      styleTag = \" style='background-color:LightSalmon;' \";\r\n    else if (documentStatus == \"Sent to QA\")\r\n      styleTag = \" style='background-color:LightCyan;' \";\r\n    else if (documentStatus == \"Submitted\")\r\n      styleTag = \" style='background-color:LemonChiffon;' \";\r\n    else if (documentStatus == \"Marked for Deletion\")\r\n      styleTag =\r\n        \" style='background-color:Gainsboro; font-style:italic' title='Marked for Deletion by the Action Office' \";\r\n\r\n    return styleTag;\r\n  }\r\n\r\n  function m_fnCheckIfEmailFolderExists(items, requestNumber) {\r\n    //Check if folder exists in email library\r\n    var bFolderExists = false;\r\n    var listItemEnumerator = items.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var folderItem = listItemEnumerator.get_current();\r\n      var itemName = folderItem.get_displayName();\r\n      if (itemName == requestNumber) {\r\n        var bFolderExists = true;\r\n        break;\r\n      }\r\n    }\r\n    return bFolderExists;\r\n  }\r\n\r\n  var m_cntAddToEmailFolder = 0;\r\n  var m_cntAddedToEmailFolder = 0;\r\n\r\n  function m_fnCreateEmailFolder(list, requestNumber, requestItem, OnComplete) {\r\n    m_cntAddToEmailFolder = 0;\r\n    m_cntAddedToEmailFolder = 0;\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var itemCreateInfo = new SP.ListItemCreationInformation();\r\n    itemCreateInfo.set_underlyingObjectType(SP.FileSystemObjectType.folder);\r\n    itemCreateInfo.set_leafName(requestNumber);\r\n    oNewEmailFolder = list.addItem(itemCreateInfo);\r\n    oNewEmailFolder.set_item(\"Title\", requestNumber);\r\n    oNewEmailFolder.update();\r\n\r\n    this.currentUser = web.get_currentUser();\r\n    this.ownerGroup = web.get_associatedOwnerGroup();\r\n    this.memberGroup = web.get_associatedMemberGroup();\r\n    this.visitorGroup = web.get_associatedVisitorGroup();\r\n\r\n    oNewEmailFolder.resetRoleInheritance();\r\n    oNewEmailFolder.breakRoleInheritance(false, false);\r\n\r\n    var roleDefBindingCollAdmin =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollAdmin.add(\r\n      web.get_roleDefinitions().getByType(SP.RoleType.administrator)\r\n    );\r\n\r\n    var roleDefBindingCollContribute =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollContribute.add(\r\n      web.get_roleDefinitions().getByType(SP.RoleType.contributor)\r\n    );\r\n\r\n    var roleDefBindingCollRestrictedRead =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollRestrictedRead.add(\r\n      web.get_roleDefinitions().getByName(\"Restricted Read\")\r\n    );\r\n\r\n    var roleDefBindingCollRestrictedContribute =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollRestrictedContribute.add(\r\n      web.get_roleDefinitions().getByName(\"Restricted Contribute\")\r\n    );\r\n\r\n    //add associated site groups\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .add(ownerGroup, roleDefBindingCollAdmin);\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .add(memberGroup, roleDefBindingCollContribute);\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .add(visitorGroup, roleDefBindingCollRestrictedRead);\r\n\r\n    var spGroupQA = Audit.Common.Utilities.GetSPSiteGroup(\r\n      Audit.Common.Utilities.GetGroupNameQA()\r\n    );\r\n    if (spGroupQA != null)\r\n      oNewEmailFolder\r\n        .get_roleAssignments()\r\n        .add(spGroupQA, roleDefBindingCollRestrictedContribute);\r\n\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .getByPrincipal(currentUser)\r\n      .deleteObject();\r\n\r\n    //Need to break up adding AOs because it exceeds the resource limit (request uses too many resources)\r\n    function onUpdatePermsSucceeded() {\r\n      if (this.requestItem) {\r\n        //this will be null when sending from permissions page\r\n        //add action offices\r\n        var arrActionOffice = this.requestItem.get_item(\"ActionOffice\");\r\n        if (arrActionOffice == null || arrActionOffice.length == 0) {\r\n          if (this.OnComplete) this.OnComplete(true);\r\n          return;\r\n        }\r\n\r\n        for (var x = 0; x < arrActionOffice.length; x++) {\r\n          var actionOfficeName = arrActionOffice[x].get_lookupValue();\r\n\r\n          var actionOfficeGroupName =\r\n            Audit.Common.Utilities.GetAOSPGroupName(actionOfficeName);\r\n          var actionOfficeGroup = Audit.Common.Utilities.GetSPSiteGroup(\r\n            actionOfficeGroupName\r\n          );\r\n\r\n          if (actionOfficeGroup != null) {\r\n            m_cntAddToEmailFolder++;\r\n\r\n            var currCtx2 = new SP.ClientContext.get_current();\r\n            var web2 = currCtx2.get_web();\r\n\r\n            var roleDefBindingCollRestrictedContribute =\r\n              SP.RoleDefinitionBindingCollection.newObject(currCtx2);\r\n            roleDefBindingCollRestrictedContribute.add(\r\n              web2.get_roleDefinitions().getByName(\"Restricted Contribute\")\r\n            );\r\n\r\n            this.oNewEmailFolder\r\n              .get_roleAssignments()\r\n              .add(actionOfficeGroup, roleDefBindingCollRestrictedContribute);\r\n\r\n            function onUpdateAOPermsSucceeded() {\r\n              m_cntAddedToEmailFolder++;\r\n              if (m_cntAddedToEmailFolder == m_cntAddToEmailFolder) {\r\n                if (this.OnComplete) this.OnComplete(true);\r\n              }\r\n            }\r\n            function onUpdateAOPermsFailed(sender, args) {\r\n              m_cntAddedToEmailFolder++;\r\n              if (m_cntAddedToEmailFolder == m_cntAddToEmailFolder) {\r\n                if (this.OnComplete) this.OnComplete(true);\r\n              }\r\n            }\r\n            var data = { OnComplete: this.OnComplete };\r\n            currCtx2.executeQueryAsync(\r\n              Function.createDelegate(data, onUpdateAOPermsSucceeded),\r\n              Function.createDelegate(data, onUpdateAOPermsFailed)\r\n            );\r\n          }\r\n        }\r\n      } else {\r\n        if (this.OnComplete) this.OnComplete(true);\r\n      }\r\n    }\r\n\r\n    function onUpdatePermsFailed(sender, args) {\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Request failed: \" + args.get_message() + \"\\n\" + args.get_stackTrace()\r\n      );\r\n    }\r\n\r\n    var data = {\r\n      /*item: oListItem, */ requestItem: requestItem,\r\n      oNewEmailFolder: oNewEmailFolder,\r\n      OnComplete: OnComplete,\r\n    };\r\n    currCtx.executeQueryAsync(\r\n      Function.createDelegate(data, onUpdatePermsSucceeded),\r\n      Function.createDelegate(data, onUpdatePermsFailed)\r\n    );\r\n  }\r\n\r\n  function m_fnSortResponseTitleNoCase(a, b) {\r\n    var aTitle = a;\r\n    var bTitle = b;\r\n    let newA, newB;\r\n\r\n    if (aTitle == null) aTitle = \"\";\r\n    if (bTitle == null) bTitle = \"\";\r\n\r\n    var aIndex = aTitle.lastIndexOf(\"-\");\r\n    if (aIndex >= 0) {\r\n      var subA = aTitle.substring(0, aIndex + 1);\r\n      var lastA = aTitle.replace(subA, \"\");\r\n      var intA = parseInt(lastA, 10);\r\n      var newIntA = Audit.Common.Utilities.PadDigits(intA, 5);\r\n      newA = subA + newIntA;\r\n    } else newA = aTitle;\r\n\r\n    var bIndex = bTitle.lastIndexOf(\"-\");\r\n    if (bIndex >= 0) {\r\n      var subB = bTitle.substring(0, bIndex + 1);\r\n      var lastB = bTitle.replace(subB, \"\");\r\n      var intB = parseInt(lastB, 10);\r\n      var newIntB = Audit.Common.Utilities.PadDigits(intB, 5);\r\n      newB = subB + newIntB;\r\n    } else newB = bTitle;\r\n\r\n    return newA.toLowerCase().localeCompare(newB.toLowerCase());\r\n  }\r\n\r\n  function m_fnSortResponseObjectNoCase(a, b) {\r\n    var aTitle = a.title;\r\n    var bTitle = b.title;\r\n    var newA;\r\n    var newB;\r\n    if (aTitle == null) aTitle = \"\";\r\n    if (bTitle == null) bTitle = \"\";\r\n\r\n    var aIndex = aTitle.lastIndexOf(\"-\");\r\n    if (aIndex >= 0) {\r\n      var subA = aTitle.substring(0, aIndex + 1);\r\n      var lastA = aTitle.replace(subA, \"\");\r\n      var intA = parseInt(lastA, 10);\r\n      var newIntA = Audit.Common.Utilities.PadDigits(intA, 5);\r\n      newA = subA + newIntA;\r\n    } else newA = aTitle;\r\n\r\n    var bIndex = bTitle.lastIndexOf(\"-\");\r\n    if (bIndex >= 0) {\r\n      var subB = bTitle.substring(0, bIndex + 1);\r\n      var lastB = bTitle.replace(subB, \"\");\r\n      var intB = parseInt(lastB, 10);\r\n      var newIntB = Audit.Common.Utilities.PadDigits(intB, 5);\r\n      newB = subB + newIntB;\r\n    } else newB = bTitle;\r\n\r\n    return newA.toLowerCase().localeCompare(newB.toLowerCase());\r\n  }\r\n\r\n  function m_fnSortNoCase(a, b) {\r\n    return a.toLowerCase().localeCompare(b.toLowerCase());\r\n  }\r\n\r\n  function m_fnSortDate(a, b) {\r\n    if (a == \"\") return -1;\r\n    if (b == \"\") return 1;\r\n    return new Date(a).getTime() - new Date(b).getTime();\r\n  }\r\n\r\n  //Adds the values in the arr array to the drop down with the specified id\r\n  function m_fnAddOptions(arr, ddlID, dateSort, responseSort) {\r\n    if (arr == null) return;\r\n    if (responseSort) arr.sort(m_fnSortResponseTitleNoCase);\r\n    else if (!dateSort) arr.sort(m_fnSortNoCase);\r\n    else arr.sort(m_fnSortDate);\r\n\r\n    var rOptions = new Array(),\r\n      j = -1;\r\n    rOptions[++j] = \"<option value=''>-Select-</option>\";\r\n\r\n    var arrLength = arr.length;\r\n\r\n    /*\tvar fragment = document.createDocumentFragment();\r\n\t\t\tvar choice = document.createElement('option');\r\n\t\t\tchoice.value = \"\";\r\n\t\t\tchoice.innerHTML = \"-Select-\";\r\n\t\t\tfragment.appendChild(choice);\r\n\t\t*/\r\n    for (var x = 0; x < arrLength; x++) {\r\n      var option = $.trim(arr[x]);\r\n\r\n      rOptions[++j] = \"<option value='\" + option + \"'>\" + option + \"</option>\";\r\n\r\n      /*\t\r\n\t\t\tvar choice = document.createElement('option');\r\n\t        choice.value = option;\r\n\t        choice.innerHTML = option;\r\n\t        fragment.appendChild(choice);*/\r\n    }\r\n\r\n    //ddlID = ddlID.replace(\"#\", \"\");\r\n    //document.getElementById(ddlID).innerHTML = rOptions.join('');\r\n\r\n    var thisDDL = $(ddlID);\r\n    thisDDL.empty().append(rOptions.join(\"\"));\r\n    /*var thisDDL = $(ddlID);\r\n\t\tthisDDL.empty().html( fragment );*/\r\n  }\r\n\r\n  function m_fnExistsInArr(arr, val) {\r\n    if (arr == null) return false;\r\n\r\n    var arrLength = arr.length;\r\n    for (var x = 0; x < arrLength; x++) {\r\n      if (arr[x] == val) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function m_fnGetTrueFalseIcon(val) {\r\n    if (val == true)\r\n      return \"<span class='ui-icon ui-icon-check'>\" + val + \"</span>\";\r\n    else return \"<span class='ui-icon ui-icon-close'>\" + val + \"</span>\";\r\n  }\r\n\r\n  function m_fnGetFriendlyDisplayName(oListItem, fieldName) {\r\n    var user = oListItem.get_item(fieldName);\r\n    if (user == null) return \"\";\r\n    else return user.get_lookupValue();\r\n  }\r\n\r\n  function m_fnPadDigits(n, totalDigits) {\r\n    n = n.toString();\r\n    var pd = \"\";\r\n    if (totalDigits > n.length) {\r\n      for (let i = 0; i < totalDigits - n.length; i++) {\r\n        pd += \"0\";\r\n      }\r\n    }\r\n    return pd + n.toString();\r\n  }\r\n\r\n  function m_fnPreciseRound(num, decimals) {\r\n    var sign = num >= 0 ? 1 : -1;\r\n    return (\r\n      Math.round(num * Math.pow(10, decimals) + sign * 0.001) /\r\n      Math.pow(10, decimals)\r\n    ).toFixed(decimals);\r\n  }\r\n\r\n  function m_fnGetFriendlyFileSize(fileSize) {\r\n    if (fileSize == null || fileSize == \"\") return \"\";\r\n\r\n    if (fileSize > 1048576) {\r\n      fileSize =\r\n        Audit.Common.Utilities.PreciseRound(fileSize / 1048576, 2) + \" MB\";\r\n    } else if (fileSize > 1024) {\r\n      fileSize =\r\n        Audit.Common.Utilities.PreciseRound(fileSize / 1024, 2) + \" KB\";\r\n    } else {\r\n      fileSize += \" B\";\r\n    }\r\n    return fileSize;\r\n  }\r\n\r\n  function m_fnISODateString(d) {\r\n    function pad(n) {\r\n      return n < 10 ? \"0\" + n : n;\r\n    }\r\n\r\n    return (\r\n      d.getUTCFullYear() +\r\n      \"-\" +\r\n      pad(d.getUTCMonth() + 1) +\r\n      \"-\" +\r\n      pad(d.getUTCDate()) +\r\n      \"T\" +\r\n      pad(d.getUTCHours()) +\r\n      \":\" +\r\n      pad(d.getUTCMinutes()) +\r\n      \":\" +\r\n      pad(d.getUTCSeconds()) +\r\n      \"Z\"\r\n    );\r\n  }\r\n\r\n  function m_fnBindHandlerResponseDoc() {\r\n    $(\".requestInfo-response-doc img\").click(function (event) {\r\n      event.preventDefault();\r\n      var curIcon = $(this).attr(\"src\");\r\n      if (curIcon == \"/_layouts/images/minus.gif\")\r\n        $(this).attr(\"src\", \"/_layouts/images/plus.gif\");\r\n      else $(this).attr(\"src\", \"/_layouts/images/minus.gif\");\r\n\r\n      //$(this).nextUntil('tr.Grouping').slideToggle(200);\r\n      $(this)\r\n        .parent()\r\n        .parent()\r\n        .nextUntil(\"tr.requestInfo-response-doc\")\r\n        .each(function () {\r\n          $(this).toggleClass(\"collapsed\");\r\n        });\r\n    });\r\n  }\r\n\r\n  /************\r\n\tNotice - for some reason, when the list item opens in a dialog or not in the dialog, it renders differently causing the values to get back data differently\r\n\t********/\r\n  /*\r\n\tfunction m_fnGetLookupFieldText( fieldName )\r\n\t{\r\n\t\tvar field = $( \"select[title='\" + fieldName  + \"']\" );\r\n\t\t\r\n\t\tif( field == null || field.html() == null ) //more than 20 items in the lookup\r\n\t\t{\r\n\t\t\tfield = $( \"input[title='\" + fieldName  + \"']\" );\r\n\t\t\treturn field.val();\r\n\t\t}\r\n\t\telse return $(\"select[title='\" + fieldName  + \"'] option:selected\").text();\r\n\t}\r\n\r\n\t*/\r\n\r\n  function m_fnGetLookupFormField(fieldTitle) {\r\n    if ($(\"select[title='\" + fieldTitle + \"']\").html() !== null) {\r\n      return $(\"select[title='\" + fieldTitle + \"']\");\r\n    } else {\r\n      return $(\"input[title='\" + fieldTitle + \"']\");\r\n    }\r\n  }\r\n\r\n  function m_fnGetLookupDisplayText(fieldTitle) {\r\n    //Set default value for lookups with less that 20 items\r\n    if ($(\"select[title='\" + fieldTitle + \"']\").html() !== null) {\r\n      return $(\"select[title='\" + fieldTitle + \"'] option:selected\").text();\r\n    } else {\r\n      return $(\"input[title='\" + fieldTitle + \"']\").val();\r\n    }\r\n  }\r\n\r\n  function m_fnSetLookupFromFieldNameByText(fieldName, text) {\r\n    try {\r\n      if (text == undefined) return;\r\n      var theSelect = m_fnGetTagFromIdentifierAndTitle(\"select\", \"\", fieldName);\r\n\r\n      if (theSelect == null) {\r\n        var theInput = m_fnGetTagFromIdentifierAndTitle(\"input\", \"\", fieldName);\r\n        //builtin\r\n        ShowDropdown(theInput.id);\r\n        var opt = document.getElementById(theInput.opt);\r\n        m_fnSetSelectedOptionByText(opt, text);\r\n        //builtin\r\n        OptLoseFocus(opt);\r\n      } else {\r\n        m_fnSetSelectedOptionByText(theSelect, text);\r\n      }\r\n    } catch (ex) {}\r\n  }\r\n\r\n  function m_fnSetSelectedOptionByText(select, text) {\r\n    var opts = select.options;\r\n    var optLength = opts.length;\r\n    if (select == null) return;\r\n\r\n    for (var i = 0; i < optLength; i++) {\r\n      if (opts[i].text == text) {\r\n        select.selectedIndex = i;\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function m_fnGetTagFromIdentifierAndTitle(tagName, identifier, title) {\r\n    var idLength = identifier.length;\r\n    var tags = document.getElementsByTagName(tagName);\r\n    for (var i = 0; i < tags.length; i++) {\r\n      var tagID = tags[i].id;\r\n      if (\r\n        tags[i].title == title &&\r\n        (identifier == \"\" ||\r\n          tagID.indexOf(identifier) == tagID.length - idLength)\r\n      ) {\r\n        return tags[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function m_fnViewUserManuals(docType) {\r\n    var options = SP.UI.$create_DialogOptions();\r\n    options.title = \"User Manual\";\r\n    options.height = 250;\r\n    //options.dialogReturnValueCallback = OnCallbackForm;\r\n    if (docType != null)\r\n      options.url =\r\n        Audit.Common.Utilities.GetSiteUrl() +\r\n        \"/pages/AuditUserManuals.aspx?FilterField1=DocType&FilterValue1=\" +\r\n        docType;\r\n    else\r\n      options.url =\r\n        Audit.Common.Utilities.GetSiteUrl() + \"/pages/AuditUserManuals.aspx\";\r\n\r\n    SP.UI.ModalDialog.showModalDialog(options);\r\n  }\r\n\r\n  function m_fnPrintPage(pageTitle, divTbl) {\r\n    var curDate = new Date();\r\n    var siteUrl = Audit.Common.Utilities.GetSiteUrl();\r\n    var cssLink1 =\r\n      siteUrl +\r\n      \"/siteassets/css/tablesorter/style.css?v=\" +\r\n      curDate.format(\"MM_dd_yyyy\");\r\n    var cssLink2 =\r\n      siteUrl +\r\n      \"/siteAssets/css/audit_styles.css?v=\" +\r\n      curDate.format(\"MM_dd_yyyy\");\r\n\r\n    var divOutput = $(divTbl).html();\r\n\r\n    //remove hyperlinks pointing to the job codes\r\n    var updatedDivOutput = $(\"<div>\").append(divOutput);\r\n    updatedDivOutput.find(\".sr-response-title a\").each(function () {\r\n      $(this).removeAttr(\"onclick\");\r\n      $(this).removeAttr(\"href\");\r\n    });\r\n\r\n    divOutput = updatedDivOutput.html();\r\n\r\n    var printDateString = curDate.format(\"MM/dd/yyyy hh:mm tt\");\r\n    printDateString =\r\n      \"<div style='padding-bottom:10px;'>\" + printDateString + \"</div>\";\r\n    divOutput = printDateString + divOutput;\r\n\r\n    var cssFile1 = $(\"<div></div>\");\r\n    var cssFile2 = $(\"<div></div>\");\r\n\r\n    var def1 = $.Deferred();\r\n    var def2 = $.Deferred();\r\n\r\n    var cssFileText = \"\";\r\n    cssFile1.load(cssLink1, function () {\r\n      cssFileText += \"<style>\" + cssFile1.html() + \"</style>\";\r\n      def1.resolve();\r\n    });\r\n    cssFile2.load(cssLink2, function () {\r\n      cssFileText += \"<style>\" + cssFile2.html() + \"</style>\";\r\n      def2.resolve();\r\n    });\r\n\r\n    //gets called asynchronously after the css files have been loaded\r\n    $.when(def1, def2).done(function () {\r\n      var html =\r\n        \"<HTML>\\n\" +\r\n        \"<HEAD>\\n\\n\" +\r\n        \"<Title>\" +\r\n        pageTitle +\r\n        \"</Title>\\n\" +\r\n        cssFileText +\r\n        \"\\n\" +\r\n        \"<style>\" +\r\n        \".hideOnPrint, .rowFilters {display:none}\" +\r\n        \"</style>\\n\" +\r\n        \"</HEAD>\\n\" +\r\n        \"<BODY>\\n\" +\r\n        divOutput +\r\n        \"\\n\" +\r\n        \"</BODY>\\n\" +\r\n        \"</HTML>\";\r\n\r\n      var printWP = window.open(\"\", \"printWebPart\");\r\n      printWP.document.open();\r\n      //insert content\r\n      printWP.document.write(html);\r\n\r\n      printWP.document.close();\r\n      //open print dialog\r\n      printWP.print();\r\n    });\r\n  }\r\n\r\n  //make sure iframe with id csvexprframe is added to page up top\r\n  //http://stackoverflow.com/questions/18185660/javascript-jquery-exporting-data-in-csv-not-working-in-ie\r\n  function m_fnExportToCsv(fileName, tableName, removeHeader) {\r\n    var data = m_fnGetCellValues(tableName);\r\n\r\n    if (removeHeader == true) data = data.slice(1);\r\n\r\n    var csv = m_fnConvertToCsv(data);\r\n    //\tconsole.log( csv );\r\n    if (navigator.userAgent.search(\"Trident\") >= 0) {\r\n      window.CsvExpFrame.document.open(\"text/html\", \"replace\");\r\n      //\t\twindow.CsvExpFrame.document.open(\"application/csv\", \"replace\");\r\n      //\t\twindow.CsvExpFrame.document.charset = \"utf-8\";\r\n      //\t\twindow.CsvExpFrame.document.open(\"application/ms-excel\", \"replace\");\r\n      window.CsvExpFrame.document.write(csv);\r\n      window.CsvExpFrame.document.close();\r\n      window.CsvExpFrame.focus();\r\n      window.CsvExpFrame.document.execCommand(\r\n        \"SaveAs\",\r\n        true,\r\n        fileName + \".csv\"\r\n      );\r\n    } else {\r\n      var uri = \"data:text/csv;charset=utf-8,\" + escape(csv);\r\n      var downloadLink = document.createElement(\"a\");\r\n      downloadLink.href = uri;\r\n      downloadLink.download = fileName + \".csv\";\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n    }\r\n  }\r\n\r\n  function m_fnGetCellValues(tableName) {\r\n    var table = document.getElementById(tableName);\r\n\r\n    //remove headers and footers\r\n    if (table.innerHTML.indexOf(\"rowFilters\") >= 0) {\r\n      var deets = $(\"<div>\").append(table.outerHTML);\r\n      deets.find(\".rowFilters\").each(function () {\r\n        $(this).remove();\r\n      });\r\n      table = deets.find(\"table\")[0];\r\n    }\r\n    if (table.innerHTML.indexOf(\"footer\") >= 0) {\r\n      var deets = $(\"<div>\").append(table.outerHTML);\r\n      deets.find(\".footer\").each(function () {\r\n        $(this).remove();\r\n      });\r\n      table = deets.find(\"table\")[0];\r\n    }\r\n\r\n    var tableArray = [];\r\n    for (var r = 0, n = table.rows.length; r < n; r++) {\r\n      tableArray[r] = [];\r\n      for (var c = 0, m = table.rows[r].cells.length; c < m; c++) {\r\n        var text =\r\n          table.rows[r].cells[c].textContent ||\r\n          table.rows[r].cells[c].innerText;\r\n        tableArray[r][c] = text.trim();\r\n      }\r\n    }\r\n    return tableArray;\r\n  }\r\n\r\n  function m_fnConvertToCsv(objArray) {\r\n    var array = typeof objArray != \"object\" ? JSON.parse(objArray) : objArray;\r\n    var str = \"sep=,\\r\\n\";\r\n    var line = \"\";\r\n    var index;\r\n    var value;\r\n    for (var i = 0; i < array.length; i++) {\r\n      line = \"\";\r\n      var array1 = array[i];\r\n      for (index in array1) {\r\n        if (array1.hasOwnProperty(index)) {\r\n          value = array1[index] + \"\";\r\n          line += '\"' + value.replace(/\"/g, '\"\"') + '\",';\r\n        }\r\n      }\r\n      line = line.slice(0, -1);\r\n      str += line + \"\\r\\n\";\r\n    }\r\n    return str;\r\n  }\r\n\r\n  var publicMembers = {\r\n    GetSiteUrl: function () {\r\n      if (m_siteUrl == \"/\") return \"\";\r\n      else return m_siteUrl;\r\n    },\r\n    GetListTitleRequests: function () {\r\n      return m_listTitleRequests;\r\n    },\r\n    GetListNameRequests: function () {\r\n      return m_listNameRequests;\r\n    },\r\n    GetListTitleRequestsInternal: function () {\r\n      return m_listTitleRequestsInternal;\r\n    },\r\n    GetListNameRequestsInternal: function () {\r\n      return m_listNameRequestsInternal;\r\n    },\r\n    GetListTitleResponses: function () {\r\n      return m_listTitleResponses;\r\n    },\r\n    GetListNameResponses: function () {\r\n      return m_listNameResponses;\r\n    },\r\n    GetLibTitleRequestDocs: function () {\r\n      return m_libTitleRequestDocs;\r\n    },\r\n    GetLibNameRequestDocs: function () {\r\n      return m_libNameRequestDocs;\r\n    },\r\n    GetLibTitleCoverSheets: function () {\r\n      return m_libTitleCoverSheet;\r\n    },\r\n    GetLibNameCoverSheets: function () {\r\n      return m_libNameCoverSheet;\r\n    },\r\n    GetLibTitleResponseDocs: function () {\r\n      return m_libTitleResponseDocs;\r\n    },\r\n    GetLibNameResponseDocs: function () {\r\n      return m_libNameResponseDocs;\r\n    },\r\n    GetLibTitleResponseDocsEA: function () {\r\n      return m_libTitleResponseDocsEA;\r\n    },\r\n    GetLibNameResponseDocsEA: function () {\r\n      return m_libNameResponseDocsEA;\r\n    },\r\n    GetListTitleActionOffices: function () {\r\n      return m_listTitleActionOffices;\r\n    },\r\n    GetListNameActionOffices: function () {\r\n      return m_listNameActionOffices;\r\n    },\r\n    GetListTitleEmailHistory: function () {\r\n      return m_listTitleEmailHistory;\r\n    },\r\n    GetListNameEmailHistory: function () {\r\n      return m_listNameEmailHistory;\r\n    },\r\n    GetListTitleBulkResponses: function () {\r\n      return m_listTitleBulkResponses;\r\n    },\r\n    GetListNameBulkResponses: function () {\r\n      return m_listNameBulkResponses;\r\n    },\r\n    GetListTitleBulkPermissions: function () {\r\n      return m_listTitleBulkPermissions;\r\n    },\r\n    GetListNameBulkPermissions: function () {\r\n      return m_listNameBulkPermissions;\r\n    },\r\n    GetGroupNameSpecialPerm1: function () {\r\n      return m_groupNameSpecialPermName1;\r\n    },\r\n    GetGroupNameSpecialPerm2: function () {\r\n      return m_groupNameSpecialPermName2;\r\n    },\r\n    GetGroupNameQA: function () {\r\n      return m_groupNameQA;\r\n    },\r\n    GetGroupNameEA: function () {\r\n      return m_groupNameEA;\r\n    },\r\n    Refresh: m_fnRefresh,\r\n    OnLoadDisplayTimeStamp: m_fnOnLoadDisplayTimeStamp,\r\n    OnLoadDisplayTabAndResponse: m_fnOnLoadDisplayTabAndResponse,\r\n    OnLoadFilterResponses: function (responseStatus1, responseStatus2) {\r\n      m_fnOnLoadFilterResponses(responseStatus1, responseStatus2);\r\n    },\r\n    SetResponseDocLibGUID: function (libGUID) {\r\n      m_libResponseDocsLibraryGUID = libGUID;\r\n    },\r\n    GetResponseDocLibGUID: function () {\r\n      return m_libResponseDocsLibraryGUID;\r\n    },\r\n    LoadSiteGroups: function (itemColl) {\r\n      m_fnLoadSiteGroups(itemColl);\r\n    },\r\n    GetSPSiteGroup: function (groupName) {\r\n      return m_fnGetSPSiteGroup(groupName);\r\n    },\r\n    LoadActionOffices: function (itemColl) {\r\n      m_fnLoadActionOffices(itemColl);\r\n    },\r\n    GetActionOffices: function () {\r\n      return m_arrAOs;\r\n    },\r\n    GetAOSPGroupName: function (groupName) {\r\n      return m_fnGetAOSPGroupName(groupName);\r\n    },\r\n    CheckSPItemHasGroupPermission: function (item, groupName, permissionLevel) {\r\n      return m_fnCheckSPItemHasGroupPermission(\r\n        item,\r\n        groupName,\r\n        permissionLevel\r\n      );\r\n    },\r\n    GoToResponse: function (responseTitle, isIA) {\r\n      m_fnGoToResponse(responseTitle, isIA);\r\n    },\r\n    GetResponseDocStyleTag: function (documentStatus) {\r\n      return m_fnGetResponseDocStyleTag(documentStatus);\r\n    },\r\n    GetResponseDocStyleTag2: function (documentStatus) {\r\n      return m_fnGetResponseDocStyleTag2(documentStatus);\r\n    },\r\n    CheckIfEmailFolderExists: function (items, requestNumber) {\r\n      return m_fnCheckIfEmailFolderExists(items, requestNumber);\r\n    },\r\n    CreateEmailFolder: function (list, requestNumber, requestItem, OnComplete) {\r\n      return m_fnCreateEmailFolder(\r\n        list,\r\n        requestNumber,\r\n        requestItem,\r\n        OnComplete\r\n      );\r\n    },\r\n    AddOptions: function (arr, ddlID, dateSort, responseSort) {\r\n      m_fnAddOptions(arr, ddlID, dateSort, responseSort);\r\n    },\r\n    ExistsInArr: function (arr, val) {\r\n      return m_fnExistsInArr(arr, val);\r\n    },\r\n    GetTrueFalseIcon: function (val) {\r\n      return m_fnGetTrueFalseIcon(val);\r\n    },\r\n    PadDigits: function (n, totalDigits) {\r\n      return m_fnPadDigits(n, totalDigits);\r\n    },\r\n    PreciseRound: function (num, decimals) {\r\n      return m_fnPreciseRound(num, decimals);\r\n    },\r\n    GetFriendlyFileSize: function (fileSize) {\r\n      return m_fnGetFriendlyFileSize(fileSize);\r\n    },\r\n    GetISODateString: function (d) {\r\n      return m_fnISODateString(d);\r\n    },\r\n    GetFriendlyDisplayName: function (oListItem, fieldName) {\r\n      return m_fnGetFriendlyDisplayName(oListItem, fieldName);\r\n    },\r\n    BindHandlerResponseDoc: m_fnBindHandlerResponseDoc,\r\n    PrintStatusReport: function (pageTitle, divTbl) {\r\n      m_fnPrintPage(pageTitle, divTbl);\r\n    },\r\n    ExportToCsv: function (fileName, tableName, removeHeader) {\r\n      m_fnExportToCsv(fileName, tableName, removeHeader);\r\n    },\r\n    ViewUserManuals: function (docType) {\r\n      m_fnViewUserManuals(docType);\r\n    },\r\n    //GetLookupFieldText: function( fieldName ){ return m_fnGetLookupFieldText( fieldName); },\r\n    GetLookupDisplayText: function (fieldName) {\r\n      return m_fnGetLookupDisplayText(fieldName);\r\n    },\r\n    GetLookupFormField: function (fieldName) {\r\n      return m_fnGetLookupFormField(fieldName);\r\n    },\r\n    SetLookupFromFieldNameByText: function (fieldName, text) {\r\n      return m_fnSetLookupFromFieldNameByText(fieldName, text);\r\n    },\r\n    SortResponseObjects: function (a, b) {\r\n      return m_fnSortResponseObjectNoCase(a, b);\r\n    },\r\n    SortResponseTitles: m_fnSortResponseTitleNoCase,\r\n  };\r\n\r\n  return publicMembers;\r\n};\r\n\r\n// ExecuteOrDelayUntilScriptLoaded(InitReport, \"sp.js\");\r\nInitReport();\r\n", "\uFEFFimport { spDbTemplate } from \"./SP_DB_Template.js\";\r\n\r\nimport \"../../common/utilities.js\";\r\n\r\ndocument.getElementById(\"app\").innerHTML = spDbTemplate;\r\n\r\nwindow.Audit = window.Audit || {};\r\nAudit.SPReport = Audit.SPReport || {};\r\n\r\nvar paramShowSiteActionsToAnyone = GetUrlKeyValue(\"ShowSiteActions\");\r\nif (paramShowSiteActionsToAnyone != true) {\r\n  //hide it even for owners unless this param is passed into the URL; pass in param if you want to change the page web parts/settings\r\n  $(\"#RibbonContainer-TabRowLeft\").hide();\r\n  $(\".ms-siteactionsmenu\").hide();\r\n}\r\n\r\nif (document.readyState === \"ready\" || document.readyState === \"complete\") {\r\n  InitReport();\r\n} else {\r\n  document.onreadystatechange = () => {\r\n    if (document.readyState === \"complete\" || document.readyState === \"ready\") {\r\n      ExecuteOrDelayUntilScriptLoaded(function () {\r\n        SP.SOD.executeFunc(\"sp.js\", \"SP.ClientContext\", InitReport);\r\n      }, \"sp.js\");\r\n    }\r\n  };\r\n}\r\n\r\nfunction InitReport() {\r\n  Audit.SPReport.Report = new Audit.SPReport.NewReportPage();\r\n  Audit.SPReport.Init();\r\n}\r\n\r\nAudit.SPReport.Init = function () {\r\n  var paramShowSiteActionsToAnyone = GetUrlKeyValue(\"ShowSiteActions\");\r\n  if (paramShowSiteActionsToAnyone != true) {\r\n    //hide it even for owners unless this param is passed into the URL; pass in param if you want to change the page web parts/settings\r\n    $(\"#RibbonContainer-TabRowLeft\").hide();\r\n    $(\".ms-siteactionsmenu\").hide();\r\n  }\r\n\r\n  setInterval(function () {\r\n    var divVal = $(\"#divCounter\").text();\r\n    var count = divVal * 1 - 1;\r\n    $(\"#divCounter\").text(count);\r\n    if (count <= 0) {\r\n      Audit.Common.Utilities.Refresh();\r\n    }\r\n  }, 1000);\r\n};\r\n\r\nAudit.SPReport.NewReportPage = function () {\r\n  var m_bigMap = new Object();\r\n  var m_arrRequests = new Array();\r\n  var m_arrResponses = new Array();\r\n\r\n  var m_requestItems;\r\n  var m_responseItems;\r\n  var m_ResponseDocsItems;\r\n\r\n  var statusId;\r\n\r\n  var m_bHasAccessToViewPerms = false;\r\n\r\n  ko.extenders.logChangeInArr = function (target, option) {\r\n    target.subscribe(function (newValue) {\r\n      console.log(option + \": \" + JSON.stringify(newValue));\r\n\r\n      console.log(newValue.length);\r\n    });\r\n    return target;\r\n  };\r\n\r\n  function ViewModel() {\r\n    var self = this;\r\n\r\n    self.siteUrl = Audit.Common.Utilities.GetSiteUrl();\r\n\r\n    self.arrResponses = ko.observableArray(null);\r\n\r\n    self.arrFilteredResponsesCount = ko.observable(0);\r\n\r\n    self.filterRequestID = ko.observable();\r\n    self.filterRequestStatus = ko.observable();\r\n    self.filterRequestIntDueDate = ko.observable();\r\n    self.filterSampleNum = ko.observable();\r\n    self.filterResponseName = ko.observable();\r\n    self.filterResponseStatus = ko.observable();\r\n\r\n    self.filterResponseName2 = ko.observable();\r\n    self.currentResponse = ko.observable();\r\n    self.arrCoverSheets = ko.observableArray(null);\r\n    self.arrResponseDocs = ko.observableArray(null);\r\n    self.cntResponseDocs = ko.observable(0);\r\n\r\n    self.doSort = ko.observable(false);\r\n\r\n    self.currentResponseStatus = ko\r\n      .computed(function () {\r\n        if (self.currentResponse()) {\r\n          if (self.currentResponse().resStatus == \"7-Closed\")\r\n            return (\r\n              self.currentResponse().resStatus +\r\n              \" on \" +\r\n              self.currentResponse().closedDate +\r\n              \" by \" +\r\n              self.currentResponse().closedBy\r\n            );\r\n\r\n          return self.currentResponse().resStatus;\r\n        }\r\n        return \"\";\r\n      }, self)\r\n      .extend({ notify: \"always\" });\r\n\r\n    self.currentResponseRequestStatus = ko.computed(function () {\r\n      if (self.currentResponse()) {\r\n        if (self.currentResponse().request.status == \"Closed\")\r\n          return (\r\n            self.currentResponse().request.status +\r\n            \" on \" +\r\n            self.currentResponse().request.closedDate\r\n          );\r\n\r\n        return self.currentResponse().request.status;\r\n      }\r\n      return \"\";\r\n    }, self);\r\n\r\n    self.currentResponseRequestStatusStyle = ko.computed(function () {\r\n      if (self.currentResponseStatus() != \"\") {\r\n        if (\r\n          self.currentResponse().request.status == \"Closed\" ||\r\n          self.currentResponse().request.status == \"Canceled\"\r\n        )\r\n          return \"red\";\r\n        else return \"green\";\r\n      }\r\n      return \"\";\r\n    }, self);\r\n\r\n    /** Behaviors **/\r\n\r\n    self.ClearFilters = function () {\r\n      self.filterRequestID(\"\");\r\n      self.filterRequestStatus(\"\");\r\n      self.filterRequestIntDueDate(\"\");\r\n      self.filterSampleNum(\"\");\r\n      self.filterResponseName(\"\");\r\n      self.filterResponseStatus(\"\");\r\n    };\r\n\r\n    self.GetDistinctResponsesDDVals = function (fieldName) {\r\n      return ko.computed(\r\n        {\r\n          read: function () {\r\n            var types = ko.utils.arrayMap(self.arrResponses(), function (item) {\r\n              return item[fieldName];\r\n            });\r\n\r\n            var ddArr = ko.utils.arrayGetDistinctValues(types).sort();\r\n            return ddArr;\r\n          },\r\n        },\r\n        self\r\n      );\r\n    };\r\n\r\n    self.GoToResponse = function (response) {\r\n      $(\"#tabs\").tabs({ active: 1 });\r\n      self.filterResponseName2(response.title);\r\n    };\r\n\r\n    /** Subscriptions **/\r\n\r\n    self.arrResponses.subscribe(function (newValue) {\r\n      if (self.arrResponses().length > 0 && self.doSort()) {\r\n        //should trigger only once\r\n        self.arrFilteredResponsesCount(self.arrResponses().length);\r\n\r\n        setTimeout(function () {\r\n          $(\"#tblStatusReportResponses\").tablesorter({\r\n            sortList: [[7, 1]],\r\n            selectorHeaders: \".sorter-true\",\r\n          });\r\n        }, 200);\r\n      }\r\n    });\r\n\r\n    /* second tab */\r\n    self.filterResponseName2.subscribe(function (newValue) {\r\n      var oResponse = m_bigMap[\"response-\" + self.filterResponseName2()];\r\n      if (oResponse) {\r\n        self.currentResponse(oResponse);\r\n\r\n        LoadTabResponseInfoCoverSheets(oResponse);\r\n        LoadTabResponseInfoResponseDocs(oResponse);\r\n      } else {\r\n        self.currentResponse(null);\r\n        self.arrCoverSheets([]);\r\n        self.arrResponseDocs([]);\r\n        self.cntResponseDocs(0);\r\n      }\r\n    });\r\n\r\n    /*var Item = function(reqNumber, requestStatus, internalDueDate, sample, title, status, docCount, modified, visibleRow) {\r\n\t\t    this.reqNumber= ko.observable(reqNumber);\r\n\t\t    this.requestStatus= ko.observable(requestStatus);    \r\n\t\t    this.internalDueDate= ko.observable(internalDueDate);    \r\n\t\t    this.sample= ko.observable(sample);    \r\n\t\t    this.title= ko.observable(title);    \r\n\t\t    this.status= ko.observable(status);    \r\n\t\t    this.docCount= ko.observable(docCount);    \r\n\t\t    this.modified= ko.observable(modified);    \r\n\t\t    this.visibleRow = ko.observable(visibleRow);    \r\n\t\t};*/\r\n\r\n    /*\tself.addNewData = function(newData) {\r\n  \t\t  var newItems = ko.utils.arrayMap(newData, function(item) {\r\n       \t\treturn {\r\n       \t\t\treqNumber: item.reqNumber,\r\n       \t\t\trequestStatus: item.requestStatus,\r\n       \t\t\tinternalDueDate: item.internalDueDate,\r\n       \t\t\tsample: item.sample,\r\n       \t\t\ttitle: item.title,\r\n       \t\t\tstatus: item.status,\r\n       \t\t\tdocCount: item.docCount,\r\n       \t\t\tmodified: item.modified,\r\n       \t\t\tvisibleRow: item.visibleRow,\r\n\t\t };\r\n   \t\t });\r\n\t    //take advantage of push accepting variable arguments\r\n\t    self.arrResponses.push.apply(self.arrResponses, newItems);\r\n\t};*/\r\n\r\n    /*\r\n\r\n\tself.addNewData = function(newData) {\r\n  \t\t  var newItems = ko.utils.arrayMap(newData, function(item) {\r\n       \t\treturn {\r\n       \t\t\treqNumber: item.reqNumber,\r\n       \t\t\trequestStatus: item.requestStatus,\r\n       \t\t\tinternalDueDate: item.internalDueDate,\r\n       \t\t\tsample: item.sample,\r\n       \t\t\ttitle: item.title,\r\n       \t\t\tstatus: item.status,\r\n       \t\t\tdocCount: item.docCount,\r\n       \t\t\tmodified: item.modified,\r\n       \t\t\tvisibleRow: item.visibleRow,\r\n\t\t };\r\n   \t\t });\r\n\t    //take advantage of push accepting variable arguments\r\n\t    self.arrResponses.push.apply(self.arrResponses, newItems);\r\n\t};*/\r\n\r\n    self.FilterChanged = function () {\r\n      setTimeout(function () {\r\n        var requestID = self.filterRequestID();\r\n        var requestStatus = self.filterRequestStatus();\r\n        var requestIntDueDate = self.filterRequestIntDueDate();\r\n        var sampleNum = self.filterSampleNum();\r\n        var responseName = self.filterResponseName();\r\n        var responseStatus = self.filterResponseStatus();\r\n\r\n        if (\r\n          !requestID &&\r\n          !requestStatus &&\r\n          !requestIntDueDate &&\r\n          !sampleNum &&\r\n          !responseName &&\r\n          !responseStatus\r\n        ) {\r\n          ko.utils.arrayForEach(self.arrResponses(), function (item) {\r\n            item.visibleRow(true);\r\n          });\r\n\r\n          self.arrFilteredResponsesCount(self.arrResponses().length);\r\n        }\r\n\r\n        var result = [];\r\n\r\n        requestID = !requestID ? \"\" : requestID;\r\n        requestStatus = !requestStatus ? \"\" : requestStatus;\r\n        requestIntDueDate = !requestIntDueDate ? \"\" : requestIntDueDate;\r\n        sampleNum = !sampleNum ? \"\" : sampleNum;\r\n        responseName = !responseName ? \"\" : responseName;\r\n        responseStatus = !responseStatus ? \"\" : responseStatus;\r\n\r\n        var count = 0;\r\n        ko.utils.arrayForEach(self.arrResponses(), function (item) {\r\n          var hide = false;\r\n          if (!hide && requestID != \"\" && item.reqNumber != requestID)\r\n            hide = true;\r\n          if (\r\n            !hide &&\r\n            requestStatus != \"\" &&\r\n            item.requestStatus != requestStatus\r\n          )\r\n            hide = true;\r\n          if (\r\n            !hide &&\r\n            requestIntDueDate != \"\" &&\r\n            item.internalDueDate != requestIntDueDate\r\n          )\r\n            hide = true;\r\n          if (!hide && sampleNum != \"\" && item.sample != sampleNum) hide = true;\r\n          if (!hide && responseName != \"\" && item.title != responseName)\r\n            hide = true;\r\n          if (!hide && responseStatus != \"\" && item.status != responseStatus)\r\n            hide = true;\r\n\r\n          item.visibleRow(!hide);\r\n\r\n          if (!hide) count++;\r\n        });\r\n\r\n        self.arrFilteredResponsesCount(count);\r\n      }, 100);\r\n    };\r\n  }\r\n\r\n  var _myViewModel = new ViewModel();\r\n  ko.applyBindings(_myViewModel);\r\n\r\n  LoadInfo();\r\n\r\n  function LoadInfo() {\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    const m_currentUser = web.get_currentUser();\r\n    currCtx.load(m_currentUser);\r\n\r\n    var requestList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleRequests());\r\n    var requestQuery = new SP.CamlQuery();\r\n    requestQuery.set_viewXml(\r\n      '<View><Query><OrderBy><FieldRef Name=\"Title\"/></OrderBy></Query></View>'\r\n    );\r\n    m_requestItems = requestList.getItems(requestQuery);\r\n    currCtx.load(\r\n      m_requestItems,\r\n      \"Include(ID, Title, ReqSubject, ReqStatus, IsSample, InternalDueDate, ActionOffice, Comments, RelatedAudit, ActionItems, EmailSent, ClosedDate, Modified)\"\r\n    );\r\n\r\n    var responseList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleResponses());\r\n    var responseQuery = new SP.CamlQuery();\r\n    responseQuery.set_viewXml(\r\n      '<View Scope=\"RecursiveAll\"><Query><OrderBy><FieldRef Name=\"ReqNum\"/></OrderBy></Query></View>'\r\n    );\r\n    m_responseItems = responseList.getItems(responseQuery);\r\n    currCtx.load(\r\n      m_responseItems,\r\n      \"Include(ID, Title, ReqNum, ActionOffice, SampleNumber, ResStatus, Comments, Modified, ClosedDate, ClosedBy)\"\r\n    );\r\n\r\n    //make sure to only pull documents (fsobjtype = 0)\r\n    var responseDocsLib = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetLibTitleResponseDocs());\r\n    var responseDocsQuery = new SP.CamlQuery();\r\n    responseDocsQuery.set_viewXml(\r\n      '<View Scope=\"RecursiveAll\"><Query><OrderBy><FieldRef Name=\"ReqNum\"/><FieldRef Name=\"ResID\"/></OrderBy><Where><Eq><FieldRef Name=\"FSObjType\"/><Value Type=\"Text\">0</Value></Eq></Where></Query></View>'\r\n    );\r\n    m_ResponseDocsItems = responseDocsLib.getItems(responseDocsQuery);\r\n    currCtx.load(\r\n      m_ResponseDocsItems,\r\n      \"Include(ID, FSObjType, Title, ReqNum, ResID, DocumentStatus, RejectReason, ReceiptDate, FileLeafRef, FileDirRef, File_x0020_Size, CheckoutUser, Modified, Editor)\"\r\n    );\r\n\r\n    currCtx.executeQueryAsync(OnSuccess, OnFailure);\r\n    function OnSuccess(sender, args) {\r\n      var requestList = web\r\n        .get_lists()\r\n        .getByTitle(Audit.Common.Utilities.GetListTitleRequests());\r\n      var requestQuery = new SP.CamlQuery();\r\n      requestQuery.set_viewXml(\r\n        '<View><Query><OrderBy><FieldRef Name=\"Title\"/></OrderBy></Query></View>'\r\n      );\r\n      var m_requestItemsWithPerms = requestList.getItems(requestQuery);\r\n      currCtx.load(\r\n        m_requestItemsWithPerms,\r\n        \"Include(ID, Title, ReqSubject, ReqStatus, IsSample, InternalDueDate, ActionOffice, Comments, RelatedAudit, ActionItems, EmailSent, ClosedDate, Modified, HasUniqueRoleAssignments, RoleAssignments, RoleAssignments.Include(Member, RoleDefinitionBindings))\"\r\n      );\r\n\r\n      function OnSuccess2(sender, args) {\r\n        m_bHasAccessToViewPerms = true;\r\n        m_requestItems = m_requestItemsWithPerms;\r\n        $(\"#divRefresh\").show();\r\n        m_fnLoadData();\r\n      }\r\n      function OnFailure2(sender, args) {\r\n        $(\"#divRefresh\").show();\r\n        m_fnLoadData();\r\n      }\r\n\r\n      currCtx.executeQueryAsync(OnSuccess2, OnFailure2);\r\n    }\r\n    function OnFailure(sender, args) {\r\n      $(\"#divRefresh\").hide();\r\n      $(\"#divLoading\").hide();\r\n\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Request failed: \" + args.get_message() + \"\\n\" + args.get_stackTrace()\r\n      );\r\n      SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n    }\r\n  }\r\n\r\n  function m_fnLoadData() {\r\n    LoadRequests();\r\n    LoadResponses();\r\n    LoadResponseDocs();\r\n\r\n    $(\"#tabs\").tabs().show();\r\n\r\n    LoadTabStatusReport(m_arrResponses);\r\n  }\r\n\r\n  function OnLoadDisplayTabAndRequest() {\r\n    var paramResponseNum = GetUrlKeyValue(\"ResNum\");\r\n    if (paramResponseNum != null && paramResponseNum != \"\") {\r\n      _myViewModel.filterResponseName2(paramResponseNum);\r\n    }\r\n\r\n    var paramTabIndex = GetUrlKeyValue(\"Tab\");\r\n    if (paramTabIndex != null && paramTabIndex != \"\") {\r\n      $(\"#tabs\").tabs(\"option\", \"active\", paramTabIndex);\r\n    }\r\n  }\r\n\r\n  function LoadRequests() {\r\n    m_bigMap = new Object();\r\n    m_arrRequests = new Array();\r\n\r\n    var cnt = 0;\r\n    var listItemEnumerator = m_requestItems.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var id = oListItem.get_item(\"ID\");\r\n      var number = oListItem.get_item(\"Title\");\r\n      var status = oListItem.get_item(\"ReqStatus\");\r\n      var sample = oListItem.get_item(\"IsSample\");\r\n      var emailSent = oListItem.get_item(\"EmailSent\");\r\n      var subject = oListItem.get_item(\"ReqSubject\");\r\n      if (subject == null) subject = \"\";\r\n\r\n      var internalDueDate = oListItem.get_item(\"InternalDueDate\");\r\n      var closedDate = oListItem.get_item(\"ClosedDate\");\r\n\r\n      internalDueDate != null\r\n        ? (internalDueDate = internalDueDate.format(\"MM/dd/yyyy\"))\r\n        : (internalDueDate = \"\");\r\n      closedDate != null\r\n        ? (closedDate = closedDate.format(\"MM/dd/yyyy\"))\r\n        : (closedDate = \"\");\r\n\r\n      var arrActionOffice = oListItem.get_item(\"ActionOffice\");\r\n      var actionOffice = \"\";\r\n      for (var x = 0; x < arrActionOffice.length; x++) {\r\n        actionOffice +=\r\n          \"<div>\" + arrActionOffice[x].get_lookupValue() + \"</div>\";\r\n      }\r\n\r\n      var comments = oListItem.get_item(\"Comments\");\r\n      var relatedAudit = oListItem.get_item(\"RelatedAudit\");\r\n      var actionItems = oListItem.get_item(\"ActionItems\");\r\n\r\n      if (comments == null) comments = \"\";\r\n      if (relatedAudit == null) relatedAudit = \"\";\r\n      if (actionItems == null) actionItems = \"\";\r\n\r\n      var requestObject = new Object();\r\n      requestObject[\"ID\"] = id;\r\n      requestObject[\"number\"] = number;\r\n      requestObject[\"subject\"] = subject;\r\n      requestObject[\"status\"] = status;\r\n      requestObject[\"internalDueDate\"] = internalDueDate;\r\n      requestObject[\"sample\"] = sample;\r\n      requestObject[\"responses\"] = new Array();\r\n      requestObject[\"actionOffice\"] = actionOffice;\r\n      requestObject[\"comments\"] = comments;\r\n      requestObject[\"emailSent\"] = emailSent;\r\n      requestObject[\"closedDate\"] = closedDate;\r\n      requestObject[\"relatedAudit\"] = relatedAudit;\r\n      requestObject[\"actionItems\"] = actionItems;\r\n\r\n      //if logged in user is a site owner, we want to see if the request has special perms so that the site owner only sees a filtered set of requests that have been specifically given special perms.\r\n      //otherwise, if it's a user in the special perms group, this check is skipped and they'll see whatever they have access to\r\n      if (m_bHasAccessToViewPerms) {\r\n        try {\r\n          var permissionsToCheck = SP.PermissionKind.viewListItems;\r\n          var match1 = Audit.Common.Utilities.CheckSPItemHasGroupPermission(\r\n            oListItem,\r\n            Audit.Common.Utilities.GetGroupNameSpecialPerm1(),\r\n            permissionsToCheck\r\n          );\r\n          var match2 = Audit.Common.Utilities.CheckSPItemHasGroupPermission(\r\n            oListItem,\r\n            Audit.Common.Utilities.GetGroupNameSpecialPerm2(),\r\n            permissionsToCheck\r\n          );\r\n\r\n          if (!match1 && !match2) continue;\r\n        } catch (err) {}\r\n      }\r\n\r\n      requestObject[\"arrIndex\"] = cnt;\r\n      m_arrRequests.push(requestObject);\r\n\r\n      m_bigMap[\"request-\" + number] = requestObject;\r\n      cnt++;\r\n    }\r\n  }\r\n\r\n  function LoadResponses() {\r\n    m_arrResponses = new Array();\r\n\r\n    var cnt = 0;\r\n    var listItemEnumerator = m_responseItems.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var number = oListItem.get_item(\"ReqNum\");\r\n      if (number != null) {\r\n        number = number.get_lookupValue();\r\n\r\n        var responseObject = new Object();\r\n        responseObject[\"request\"] = m_bigMap[\"request-\" + number]; //GetRequest( number );\r\n        if (!responseObject.request || !responseObject.request.emailSent)\r\n          //they should see it if they have access; then there's probably a permissions issue\r\n          continue;\r\n\r\n        //Special permissions users should only see responses that have been approved for QA or closed. The permissions should take care of this, but this is an extra safety measure\r\n        responseObject[\"resStatus\"] = oListItem.get_item(\"ResStatus\");\r\n        if (\r\n          responseObject[\"resStatus\"] != \"4-Approved for QA\" &&\r\n          responseObject[\"resStatus\"] != \"7-Closed\" &&\r\n          responseObject[\"resStatus\"] != \"6-Reposted After Rejection\"\r\n        )\r\n          continue;\r\n\r\n        responseObject[\"actionOffice\"] = oListItem.get_item(\"ActionOffice\");\r\n        if (responseObject[\"actionOffice\"] == null)\r\n          responseObject[\"actionOffice\"] = \"\";\r\n        else\r\n          responseObject[\"actionOffice\"] =\r\n            responseObject[\"actionOffice\"].get_lookupValue();\r\n        if (responseObject[\"actionOffice\"] == \"\") continue;\r\n\r\n        responseObject[\"ID\"] = oListItem.get_item(\"ID\");\r\n        responseObject[\"number\"] = number;\r\n\r\n        var title = oListItem.get_item(\"Title\");\r\n        responseObject[\"title\"] = title;\r\n\r\n        var modified = oListItem.get_item(\"Modified\");\r\n        modified != null\r\n          ? (modified = modified.format(\"MM/dd/yyyy hh:mm tt\"))\r\n          : (modified = \"\");\r\n        responseObject[\"modified\"] = modified;\r\n\r\n        var closedDate = oListItem.get_item(\"ClosedDate\");\r\n        closedDate != null\r\n          ? (closedDate = closedDate.format(\"MM/dd/yyyy\"))\r\n          : (closedDate = \"\");\r\n        responseObject[\"closedDate\"] = closedDate;\r\n\r\n        var comments = oListItem.get_item(\"Comments\");\r\n        if (comments == null) comments = \"\";\r\n        responseObject[\"comments\"] = comments;\r\n\r\n        responseObject[\"closedBy\"] =\r\n          Audit.Common.Utilities.GetFriendlyDisplayName(oListItem, \"ClosedBy\");\r\n\r\n        responseObject[\"sample\"] = oListItem.get_item(\"SampleNumber\");\r\n        if (responseObject[\"sample\"] == null) responseObject[\"sample\"] = \"\";\r\n\r\n        responseObject[\"coversheets\"] = new Array();\r\n        responseObject[\"responseDocs\"] = new Array();\r\n\r\n        responseObject[\"arrIndex\"] = cnt;\r\n        m_arrResponses.push(responseObject);\r\n\r\n        m_bigMap[\"response-\" + title] = responseObject;\r\n        cnt++;\r\n      }\r\n    }\r\n  }\r\n\r\n  function LoadResponseDocs() {\r\n    var listItemEnumerator = m_ResponseDocsItems.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n      if (\r\n        oListItem.get_item(\"DocumentStatus\") == \"Open\" ||\r\n        oListItem.get_item(\"DocumentStatus\") == \"Marked for Deletion\" ||\r\n        oListItem.get_item(\"DocumentStatus\") == \"Submitted\"\r\n      )\r\n        //shouldn't see any documents that have been uploaded by AO but not sent to them by IA\r\n        continue;\r\n\r\n      var responseDocID = oListItem.get_item(\"ID\");\r\n\r\n      var requestNumber = oListItem.get_item(\"ReqNum\");\r\n      if (requestNumber != null)\r\n        requestNumber = requestNumber.get_lookupValue();\r\n\r\n      var responseID = oListItem.get_item(\"ResID\");\r\n      if (responseID != null) responseID = responseID.get_lookupValue();\r\n\r\n      if (requestNumber == null || responseID == null) continue;\r\n\r\n      try {\r\n        var bigMapItem = m_bigMap[\"response-\" + responseID];\r\n        var indexOfArrResponses = bigMapItem.arrIndex;\r\n        var oResponse = m_arrResponses[indexOfArrResponses];\r\n        if (oResponse) {\r\n          var responseDocObject = new Object();\r\n          responseDocObject[\"ID\"] = oListItem.get_item(\"ID\");\r\n          responseDocObject[\"title\"] = oListItem.get_item(\"FileLeafRef\");\r\n          responseDocObject[\"folder\"] = oListItem.get_item(\"FileDirRef\");\r\n          responseDocObject[\"documentStatus\"] =\r\n            oListItem.get_item(\"DocumentStatus\");\r\n\r\n          responseDocObject[\"rejectReason\"] =\r\n            oListItem.get_item(\"RejectReason\");\r\n          if (responseDocObject[\"rejectReason\"] == null)\r\n            responseDocObject[\"rejectReason\"] = \"\";\r\n\r\n          var fileSize = oListItem.get_item(\"File_x0020_Size\");\r\n          fileSize = Audit.Common.Utilities.GetFriendlyFileSize(fileSize);\r\n          responseDocObject[\"fileSize\"] = fileSize;\r\n\r\n          var receiptDate = \"\";\r\n          if (\r\n            oListItem.get_item(\"ReceiptDate\") != null &&\r\n            oListItem.get_item(\"ReceiptDate\") != \"\"\r\n          )\r\n            receiptDate = oListItem\r\n              .get_item(\"ReceiptDate\")\r\n              .format(\"MM/dd/yyyy\");\r\n          responseDocObject[\"receiptDate\"] = receiptDate;\r\n\r\n          var modifiedDate = \"\";\r\n          if (\r\n            oListItem.get_item(\"Modified\") != null &&\r\n            oListItem.get_item(\"Modified\") != \"\"\r\n          )\r\n            modifiedDate = oListItem\r\n              .get_item(\"Modified\")\r\n              .format(\"MM/dd/yyyy hh:mm tt\");\r\n          responseDocObject[\"modifiedDate\"] = modifiedDate;\r\n\r\n          responseDocObject[\"modifiedBy\"] =\r\n            Audit.Common.Utilities.GetFriendlyDisplayName(oListItem, \"Editor\");\r\n          responseDocObject[\"checkedOutBy\"] =\r\n            Audit.Common.Utilities.GetFriendlyDisplayName(\r\n              oListItem,\r\n              \"CheckoutUser\"\r\n            );\r\n\r\n          oResponse[\"responseDocs\"].push(responseDocObject);\r\n          //bigMapItem[\"responseDocs\"].push( responseDocObject );\r\n        }\r\n      } catch (err) {}\r\n    }\r\n  }\r\n\r\n  function LoadTabStatusReport(arr) {\r\n    if (arr == null) return;\r\n\r\n    var bLoadTest = GetUrlKeyValue(\"LoadTest\");\r\n\r\n    var responseArr = new Array();\r\n\r\n    var arrLength = arr.length;\r\n    while (arrLength--) {\r\n      var oResponse = arr[arrLength];\r\n\r\n      var responseTitle = oResponse.title;\r\n      var requestStatus = oResponse.request.status;\r\n      var responseStatus = oResponse.resStatus;\r\n\r\n      var aResponse = {\r\n        reqNumber: oResponse.request.number,\r\n        requestStatus: requestStatus,\r\n        internalDueDate: oResponse.request.internalDueDate,\r\n        sample: oResponse.sample,\r\n        title: responseTitle,\r\n        status: responseStatus,\r\n        docCount: oResponse.responseDocs.length,\r\n        modified: oResponse.modified,\r\n        visibleRow: ko.observable(true),\r\n      };\r\n\r\n      responseArr.push(aResponse);\r\n\r\n      if (bLoadTest) {\r\n        for (var x = 0; x < 299; x++) {\r\n          responseArr.push(aResponse);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (responseArr.length > 0) {\r\n      DoUpdateModel(responseArr);\r\n    } else {\r\n      Audit.Common.Utilities.OnLoadDisplayTimeStamp();\r\n    }\r\n\r\n    //_myViewModel.addNewData( responseArr );\r\n    //ko.utils.arrayPushAll( _myViewModel.arrResponses(), responseArr );\r\n    //_myViewModel.arrResponses.valueHasMutated();\r\n  }\r\n\r\n  function DoUpdateModel(arrResponsesToAdd) {\r\n    var subArr = [];\r\n\r\n    var bContinue = true;\r\n    var batchSize = 250;\r\n\r\n    if (arrResponsesToAdd.length == 0) {\r\n      //_myViewModel.doSort ( true );\r\n      //_myViewModel.arrResponses.valueHasMutated();\r\n      bContinue = false;\r\n\r\n      //setTimeout( function()\r\n      //{\r\n      Audit.Common.Utilities.OnLoadDisplayTimeStamp();\r\n      BindHandlersOnLoad();\r\n      OnLoadDisplayTabAndRequest();\r\n\r\n      //}, 100 );\r\n    } else if (arrResponsesToAdd.length >= batchSize) {\r\n      subArr = arrResponsesToAdd.slice(0, batchSize);\r\n      arrResponsesToAdd.splice(0, batchSize);\r\n    } else if (arrResponsesToAdd.length > 0) {\r\n      subArr = arrResponsesToAdd.slice(0, arrResponsesToAdd.length);\r\n      arrResponsesToAdd.splice(0, arrResponsesToAdd.length);\r\n    }\r\n\r\n    if (bContinue) {\r\n      ko.utils.arrayPushAll(_myViewModel.arrResponses(), subArr);\r\n      if (arrResponsesToAdd.length == 0) _myViewModel.doSort(true);\r\n\r\n      _myViewModel.arrResponses.valueHasMutated();\r\n\r\n      setTimeout(function () {\r\n        DoUpdateModel(arrResponsesToAdd);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  function LoadTabResponseInfoCoverSheets(oResponse) {\r\n    _myViewModel.arrCoverSheets([]);\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var coverSheetLib = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetLibTitleCoverSheets());\r\n    var coverSheetQuery = new SP.CamlQuery();\r\n    coverSheetQuery.set_viewXml(\r\n      '<View Scope=\"RecursiveAll\"><Query><OrderBy><FieldRef Name=\"Title\"/></OrderBy><Where><Eq><FieldRef Name=\"ReqNum\"/><Value Type=\"Text\">' +\r\n        oResponse.request.number +\r\n        \"</Value></Eq></Where></Query></View>\"\r\n    );\r\n    var m_subsetCoverSheetItems = coverSheetLib.getItems(coverSheetQuery);\r\n    currCtx.load(\r\n      m_subsetCoverSheetItems,\r\n      \"Include(ID, Title, ReqNum, ActionOffice, FileLeafRef, FileDirRef)\"\r\n    );\r\n\r\n    var data = { oResponse: oResponse };\r\n    function OnSuccess(sender, args) {\r\n      var arrCS = new Array();\r\n\r\n      var listItemEnumerator = m_subsetCoverSheetItems.getEnumerator();\r\n      while (listItemEnumerator.moveNext()) {\r\n        var oListItem = listItemEnumerator.get_current();\r\n\r\n        if (oListItem.get_item(\"ActionOffice\") != null) {\r\n          var arrActionOffice = oListItem.get_item(\"ActionOffice\");\r\n          if (arrActionOffice.length > 0) {\r\n            for (var y = 0; y < arrActionOffice.length; y++) {\r\n              var curActionOffice = arrActionOffice[y].get_lookupValue();\r\n\r\n              if (curActionOffice == this.oResponse.actionOffice) {\r\n                var csFolder = oListItem.get_item(\"FileDirRef\");\r\n                var csTitle = oListItem.get_item(\"FileLeafRef\");\r\n\r\n                var encodedTitle = csTitle.replace(/'/g, \"&#39\");\r\n                arrCS.push({\r\n                  folder: csFolder,\r\n                  title: csTitle,\r\n                  link:\r\n                    \"STSNavigate('../_layouts/download.aspx?SourceUrl=\" +\r\n                    csFolder +\r\n                    \"/\" +\r\n                    encodedTitle +\r\n                    \"')\",\r\n                });\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      ko.utils.arrayPushAll(_myViewModel.arrCoverSheets(), arrCS);\r\n      _myViewModel.arrCoverSheets.valueHasMutated();\r\n    }\r\n    function OnFailure(sender, args) {}\r\n    currCtx.executeQueryAsync(\r\n      Function.createDelegate(data, OnSuccess),\r\n      Function.createDelegate(data, OnFailure)\r\n    );\r\n  }\r\n\r\n  function LoadTabResponseInfoResponseDocs(oResponse) {\r\n    _myViewModel.arrResponseDocs([]);\r\n    _myViewModel.cntResponseDocs(0);\r\n\r\n    if (oResponse == null || oResponse.responseDocs.length == 0) {\r\n      //an open response is selected and there are no documents\r\n      return;\r\n    }\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    for (var z = 0; z < oResponse.responseDocs.length; z++) {\r\n      var oResponseDoc = oResponse.responseDocs[z];\r\n\r\n      //this loads on execute\r\n      oResponseDoc[\"docIcon\"] = web.mapToIcon(\r\n        oResponseDoc.title,\r\n        \"\",\r\n        SP.Utilities.IconSize.Size16\r\n      );\r\n    }\r\n\r\n    function OnSuccess(sender, args) {\r\n      RenderResponses(oResponse);\r\n    }\r\n    function OnFailure(sender, args) {\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Request failed: \" + args.get_message() + \"\\n\" + args.get_stackTrace()\r\n      );\r\n      SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n    }\r\n    currCtx.executeQueryAsync(OnSuccess, OnFailure);\r\n\r\n    function RenderResponses(oResponse) {\r\n      if (oResponse == null || oResponse.responseDocs == null) return;\r\n\r\n      var arrResponseSummary = new Array();\r\n      for (var z = 0; z < oResponse.responseDocs.length; z++) {\r\n        var oResponseDoc = oResponse.responseDocs[z];\r\n\r\n        oResponseDoc.docIcon = oResponseDoc.docIcon.get_value();\r\n        oResponseDoc.styleTag = Audit.Common.Utilities.GetResponseDocStyleTag2(\r\n          oResponseDoc.documentStatus\r\n        );\r\n        oResponseDoc.link =\r\n          \"STSNavigate('../_layouts/download.aspx?SourceUrl=\" +\r\n          oResponseDoc.folder +\r\n          \"/\" +\r\n          oResponseDoc.title +\r\n          \"')\";\r\n\r\n        var bFound = false;\r\n        for (var b = 0; b < arrResponseSummary.length; b++) {\r\n          if (arrResponseSummary[b].responseTitle == oResponse.title) {\r\n            bFound = true;\r\n            arrResponseSummary[b].responseDocs.push(oResponseDoc);\r\n            break;\r\n          }\r\n        }\r\n        if (!bFound) {\r\n          var oObject = new Object();\r\n\r\n          var arrResponseDocs = new Array();\r\n          arrResponseDocs.push(oResponseDoc);\r\n\r\n          oObject[\"responseTitle\"] = oResponse.title;\r\n          oObject[\"responseDocs\"] = arrResponseDocs;\r\n          oObject[\"response\"] = oResponse;\r\n\r\n          arrResponseSummary.push(oObject);\r\n        }\r\n      }\r\n\r\n      ko.utils.arrayPushAll(_myViewModel.arrResponseDocs(), arrResponseSummary);\r\n      _myViewModel.arrResponseDocs.valueHasMutated();\r\n      _myViewModel.cntResponseDocs(oResponse.responseDocs.length);\r\n\r\n      Audit.Common.Utilities.BindHandlerResponseDoc();\r\n    }\r\n  }\r\n\r\n  function m_fnRefresh() {\r\n    var curPath = location.pathname;\r\n\r\n    var tabIndex = $(\"#tabs\").tabs(\"option\", \"active\");\r\n    curPath += \"?Tab=\" + tabIndex;\r\n\r\n    if (tabIndex == 1) {\r\n      var responseNum = $(\"#ddlResponses\").val();\r\n      if (responseNum != \"\") curPath += \"&ResNum=\" + responseNum;\r\n    }\r\n\r\n    location.href = curPath;\r\n  }\r\n\r\n  function BindHandlersOnLoad() {\r\n    BindPrintButton(\r\n      \"#btnPrint1\",\r\n      \"#divStatusReportRespones\",\r\n      \"Special Permissions Response Status Report\"\r\n    );\r\n    //////////Note: for the export to work, make sure this is added to the html: <iframe id=\"CsvExpFrame\" style=\"display: none\"></iframe>\r\n    BindExportButton(\r\n      \".export1\",\r\n      \"SPResponseStatusReport_\",\r\n      \"tblStatusReportResponses\"\r\n    );\r\n  }\r\n\r\n  function BindPrintButton(btnPrint, divTbl, pageTitle) {\r\n    $(btnPrint).on(\"click\", function () {\r\n      Audit.Common.Utilities.PrintStatusReport(pageTitle, divTbl);\r\n    });\r\n  }\r\n\r\n  function BindExportButton(btnExport, fileNamePrefix, tbl) {\r\n    $(btnExport).on(\"click\", function (event) {\r\n      var curDate = new Date().format(\"yyyyMMdd_hhmmtt\");\r\n      Audit.Common.Utilities.ExportToCsv(fileNamePrefix + curDate, tbl);\r\n    });\r\n  }\r\n\r\n  var publicMembers = {\r\n    Load: m_fnLoadData,\r\n    Refresh: m_fnRefresh,\r\n  };\r\n\r\n  return publicMembers;\r\n};\r\n"],
  "mappings": ";;AAAC,MAAM,OAAO,OAAO;AAEd,MAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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",
  "names": ["onUpdateAOPermsSucceeded", "onUpdateAOPermsFailed", "roleDefBindingCollRestrictedContribute", "data", "html", "InitReport", "paramShowSiteActionsToAnyone", "statusId", "requestList", "requestQuery", "sender", "args", "oResponse", "z", "oResponseDoc"]
}
