{
  "version": 3,
  "sources": ["../../../src/common/utilities.js", "../../../src/pages/update_site_groups/update_site_groups.js"],
  "sourcesContent": ["\uFEFFwindow.Audit = window.Audit || {};\r\nAudit.Common = Audit.Common || {};\r\n\r\nfunction InitReport() {\r\n  Audit.Common.Utilities = new Audit.Common.NewUtilities();\r\n  Audit.Common.Init();\r\n}\r\n\r\nAudit.Common.Init = function () {};\r\n\r\nAudit.Common.NewUtilities = function () {\r\n  var m_siteUrl = _spPageContextInfo.webServerRelativeUrl; //IE11 in sp 2013 does not recognize L_Menu_BaseUrl\r\n\r\n  var m_listTitleRequests = \"AuditRequests\";\r\n  var m_listNameRequests = \"AuditRequests\";\r\n\r\n  var m_listTitleRequestsInternal = \"AuditRequestsInternal\";\r\n  var m_listNameRequestsInternal = \"AuditRequestsInternal\";\r\n\r\n  var m_listTitleResponses = \"AuditResponses\";\r\n  var m_listNameResponses = \"AuditResponses\";\r\n\r\n  var m_libTitleRequestDocs = \"AuditRequestDocs\";\r\n  var m_libNameRequestDocs = \"AuditRequestDocs\";\r\n\r\n  var m_libTitleCoverSheet = \"AuditCoverSheets\";\r\n  var m_libNameCoverSheet = \"AuditCoverSheets\";\r\n\r\n  var m_libTitleResponseDocs = \"AuditResponseDocs\";\r\n  var m_libNameResponseDocs = \"AuditResponseDocs\";\r\n\r\n  var m_libTitleResponseDocsEA = \"AuditResponseDocsEA\";\r\n  var m_libNameResponseDocsEA = \"AuditResponseDocsEA\";\r\n\r\n  var m_listTitleActionOffices = \"AuditOrganizations\";\r\n  var m_listNameActionOffices = \"AuditOrganizations\";\r\n\r\n  var m_listTitleEmailHistory = \"AuditEmails\";\r\n  var m_listNameEmailHistory = \"AuditEmails\";\r\n\r\n  var m_listTitleBulkResponses = \"AuditBulkResponses\";\r\n  var m_listNameBulkResponses = \"AuditBulkResponses\";\r\n\r\n  var m_listTitleBulkPermissions = \"AuditBulkPermissions\";\r\n  var m_listNameBulkPermissions = \"AuditBulkPermissions\";\r\n\r\n  var m_groupNameSpecialPermName1 = \"CGFS Special Access1\";\r\n  var m_groupNameSpecialPermName2 = \"CGFS Special Access2\";\r\n  var m_groupNameQA = \"Quality Assurance\";\r\n  var m_groupNameEA = \"External Auditors\";\r\n\r\n  var m_libResponseDocsLibraryGUID = null;\r\n\r\n  var m_arrSiteGroups = null;\r\n  var m_arrAOs = null;\r\n  /**\r\n   * Reloads the page, trys to preserve current path\r\n   * @param {bool} hard flag to remove all url params\r\n   * @returns\r\n   */\r\n  function m_fnRefresh(hard = false) {\r\n    if (hard) {\r\n      location.href = location.pathname;\r\n      return;\r\n    }\r\n    var curPath = location.pathname;\r\n\r\n    if ($(\"#tabs\").html() != null && $(\"#tabs\").html() != \"\") {\r\n      var tabIndex = 0;\r\n      try {\r\n        tabIndex = $(\"#tabs\").tabs(\"option\", \"active\");\r\n      } catch (ex) {}\r\n\r\n      curPath += \"?Tab=\" + tabIndex;\r\n\r\n      if (tabIndex == 0 && $(\"#ddlResponseName\").val() != \"\") {\r\n        curPath += \"&ResNum=\" + $(\"#ddlResponseName\").val();\r\n      } else if (tabIndex == 1) {\r\n        var responseNumOpen = $(\"#ddlResponsesOpen\").val();\r\n        var responseNumProcessed = $(\"#ddlResponsesProcessed\").val();\r\n\r\n        if (responseNumOpen != null && responseNumOpen != \"\")\r\n          curPath += \"&ResNum=\" + responseNumOpen;\r\n        else if (responseNumProcessed != null && responseNumProcessed != \"\")\r\n          curPath += \"&ResNum=\" + responseNumProcessed;\r\n      }\r\n\r\n      location.href = curPath;\r\n    } else {\r\n      location.reload();\r\n    }\r\n  }\r\n\r\n  function m_fnOnLoadDisplayTimeStamp() {\r\n    var curDate = new Date();\r\n    $(\"#divLoading\").text(\"Loaded at \" + curDate.format(\"MM/dd/yyyy hh:mm tt\"));\r\n  }\r\n\r\n  function m_fnOnLoadDisplayTabAndResponse() {\r\n    var paramTabIndex = GetUrlKeyValue(\"Tab\");\r\n    if (paramTabIndex != null && paramTabIndex != \"\") {\r\n      $(\"#tabs\").tabs(\"option\", \"active\", paramTabIndex);\r\n    }\r\n\r\n    var bFiltered = false;\r\n\r\n    var paramResponseNum = GetUrlKeyValue(\"ResNum\");\r\n    if (paramResponseNum != null && paramResponseNum != \"\") {\r\n      if (paramTabIndex == 0) {\r\n        if (\r\n          $(\"#ddlResponseName option[value='\" + paramResponseNum + \"']\")\r\n            .length > 0\r\n        ) {\r\n          $(\"#ddlResponseName\").val(paramResponseNum).change();\r\n          bFiltered = true;\r\n        }\r\n      } else {\r\n        if (\r\n          $(\"#ddlResponsesOpen option[value='\" + paramResponseNum + \"']\")\r\n            .length > 0\r\n        ) {\r\n          $(\"#ddlResponsesOpen\").val(paramResponseNum).change();\r\n        } else if (\r\n          $(\"#ddlResponsesProcessed option[value='\" + paramResponseNum + \"']\")\r\n            .length > 0\r\n        ) {\r\n          $(\"#ddlResponsesProcessed\").val(paramResponseNum).change();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!bFiltered) {\r\n      $(\".sr-response-item\").show(); //hiding rows by default\r\n    }\r\n  }\r\n\r\n  function m_fnOnLoadFilterResponses(responseStatus1, responseStatus2) {\r\n    var count = 0;\r\n    var cntOpen = 0;\r\n    var cntReOpened = 0;\r\n    var resStatus1 = 0;\r\n    var resStatus2 = 0;\r\n\r\n    var eacher = $(\".sr-response-item\");\r\n\r\n    eacher.each(function () {\r\n      var reqStatus = $.trim($(this).find(\".sr-response-requestStatus\").text());\r\n      var resStatus = $.trim($(this).find(\".sr-response-status\").text());\r\n\r\n      if (\r\n        (resStatus == responseStatus1 || resStatus == responseStatus2) &&\r\n        (reqStatus == \"Open\" || reqStatus == \"ReOpened\")\r\n      ) {\r\n        $(this).addClass(\"highlighted\");\r\n        count++;\r\n\r\n        if (resStatus == responseStatus1) resStatus1++;\r\n        else if (resStatus == responseStatus2) resStatus2++;\r\n\r\n        if (reqStatus == \"Open\") cntOpen++;\r\n        else if (reqStatus == \"ReOpened\") cntReOpened++;\r\n      }\r\n    });\r\n\r\n    if (count > 0) {\r\n      $(\"#lblStatusReportResponsesMsg\").html(\r\n        \"<span class='ui-icon ui-icon-alert'></span>There are \" +\r\n          count +\r\n          \" Responses pending your review\"\r\n      );\r\n\r\n      if (resStatus1 > 0 && resStatus2 == 0)\r\n        $(\"#ddlResponseStatus\").val(responseStatus1).change();\r\n      else if (resStatus2 > 0 && resStatus1 == 0)\r\n        $(\"#ddlResponseStatus\").val(responseStatus2).change();\r\n    } else\r\n      $(\"#lblStatusReportResponsesMsg\").html(\r\n        \"<span class='ui-icon ui-icon-circle-check'></span>There are 0 Responses pending your review\"\r\n      );\r\n  }\r\n\r\n  function m_fnLoadSiteGroups(itemColl) {\r\n    m_arrSiteGroups = new Array();\r\n\r\n    var listItemEnumerator = itemColl.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var id = oListItem.get_id();\r\n      var loginName = oListItem.get_loginName();\r\n      var title = oListItem.get_title();\r\n\r\n      var groupObject = new Object();\r\n      groupObject[\"ID\"] = id;\r\n      groupObject[\"loginName\"] = loginName;\r\n      groupObject[\"title\"] = title;\r\n      groupObject[\"group\"] = oListItem;\r\n\r\n      m_arrSiteGroups.push(groupObject);\r\n    }\r\n  }\r\n\r\n  function m_fnGetSPSiteGroup(groupName) {\r\n    var userGroup = null;\r\n    if (m_arrSiteGroups != null) {\r\n      for (var x = 0; x < m_arrSiteGroups.length; x++) {\r\n        if (m_arrSiteGroups[x].title == groupName) {\r\n          userGroup = m_arrSiteGroups[x].group;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return userGroup;\r\n  }\r\n\r\n  function m_fnLoadActionOffices(itemColl) {\r\n    m_arrAOs = new Array();\r\n\r\n    var listItemEnumerator = itemColl.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var id = oListItem.get_item(\"ID\");\r\n      var title = oListItem.get_item(\"Title\");\r\n      var userGroup = oListItem.get_item(\"UserGroup\");\r\n      if (userGroup != null) {\r\n        userGroup = userGroup.get_lookupValue();\r\n      } else userGroup = \"\";\r\n\r\n      var aoObject = new Object();\r\n      aoObject[\"ID\"] = id;\r\n      aoObject[\"title\"] = title;\r\n      aoObject[\"userGroup\"] = userGroup;\r\n\r\n      m_arrAOs.push(aoObject);\r\n    }\r\n  }\r\n\r\n  function m_fnGetAOSPGroupName(groupName) {\r\n    //finds the group name corresponding to the lookup field selected\r\n    var userGroup = null;\r\n    if (m_arrAOs != null) {\r\n      for (var x = 0; x < m_arrAOs.length; x++) {\r\n        var oGroup = m_arrAOs[x];\r\n        if (oGroup.title == groupName) {\r\n          userGroup = oGroup.userGroup;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return userGroup;\r\n  }\r\n\r\n  function m_fnCheckSPItemHasGroupPermission(item, groupName, permissionLevel) {\r\n    if (\r\n      item == null ||\r\n      groupName == \"\" ||\r\n      groupName == null ||\r\n      permissionLevel == null\r\n    )\r\n      return false;\r\n\r\n    var match = false;\r\n    var roleAssignments = item.get_roleAssignments();\r\n    if (roleAssignments == null) {\r\n      alert(\"Error retrieving role assignments\");\r\n      return false;\r\n    }\r\n\r\n    var rolesEnumerator = roleAssignments.getEnumerator();\r\n    while (rolesEnumerator.moveNext()) {\r\n      var role = rolesEnumerator.get_current();\r\n      if (role != null) {\r\n        var roleMember = role.get_member();\r\n        if (roleMember.isPropertyAvailable(\"Title\")) {\r\n          var memberTitleName = roleMember.get_title();\r\n\r\n          var roleDefs = role.get_roleDefinitionBindings();\r\n          if (roleDefs != null) {\r\n            var roleDefsEnumerator = roleDefs.getEnumerator();\r\n            while (roleDefsEnumerator.moveNext()) {\r\n              var rd = roleDefsEnumerator.get_current();\r\n              var rdName = rd.get_name();\r\n\r\n              if (\r\n                memberTitleName == groupName &&\r\n                rd.get_basePermissions().has(permissionLevel)\r\n              ) {\r\n                match = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return match;\r\n  }\r\n\r\n  function m_fnGoToResponse(responseTitle, isIA) {\r\n    if (!isIA) {\r\n      var bFound = false;\r\n      $(\"#ddlResponsesOpen > option\").each(function () {\r\n        if ($(this).text() == responseTitle) {\r\n          bFound = true;\r\n          notifyId = SP.UI.Notify.addNotification(\r\n            \"Displaying Response (\" + responseTitle + \")\",\r\n            false\r\n          );\r\n          $(\"#ddlResponsesOpen\").val(responseTitle).change();\r\n\r\n          return false;\r\n        }\r\n      });\r\n      if (!bFound) {\r\n        $(\"#ddlResponsesProcessed > option\").each(function () {\r\n          if ($(this).text() == responseTitle) {\r\n            bFound = true;\r\n            notifyId = SP.UI.Notify.addNotification(\r\n              \"Displaying Response (\" + responseTitle + \")\",\r\n              false\r\n            );\r\n            $(\"#ddlResponsesProcessed\").val(responseTitle).change();\r\n\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n\r\n      $(\"#tabs\").tabs({ active: 1 });\r\n    }\r\n  }\r\n\r\n  function m_fnGetResponseDocStyleTag2(documentStatus) {\r\n    var styleTag = {};\r\n    if (documentStatus == \"Archived\")\r\n      styleTag = { \"background-color\": \"Gainsboro\" };\r\n    else if (documentStatus == \"Approved\")\r\n      styleTag = { \"background-color\": \"PaleGreen\" };\r\n    else if (documentStatus == \"Rejected\")\r\n      styleTag = { \"background-color\": \"LightSalmon\" };\r\n    else if (documentStatus == \"Sent to QA\")\r\n      styleTag = { \"background-color\": \"LightCyan\" };\r\n    else if (documentStatus == \"Submitted\")\r\n      styleTag = { \"background-color\": \"LemonChiffon\" };\r\n    else if (documentStatus == \"Marked for Deletion\")\r\n      styleTag = {\r\n        \"background-color\": \"Gainsboro\",\r\n        \"font-style\": \"italic\",\r\n      };\r\n    return styleTag;\r\n    //\t\t\tstyleTag = \" style='background-color:Gainsboro; font-style:italic' title='Marked for Deletion by the Action Office' \";\r\n  }\r\n\r\n  function m_fnGetResponseDocStyleTag(documentStatus) {\r\n    var styleTag = \"\";\r\n\r\n    if (documentStatus == \"Archived\")\r\n      styleTag = \" style='background-color:Gainsboro;' \";\r\n    else if (documentStatus == \"Approved\")\r\n      styleTag = \" style='background-color:PaleGreen;' \";\r\n    else if (documentStatus == \"Rejected\")\r\n      styleTag = \" style='background-color:LightSalmon;' \";\r\n    else if (documentStatus == \"Sent to QA\")\r\n      styleTag = \" style='background-color:LightCyan;' \";\r\n    else if (documentStatus == \"Submitted\")\r\n      styleTag = \" style='background-color:LemonChiffon;' \";\r\n    else if (documentStatus == \"Marked for Deletion\")\r\n      styleTag =\r\n        \" style='background-color:Gainsboro; font-style:italic' title='Marked for Deletion by the Action Office' \";\r\n\r\n    return styleTag;\r\n  }\r\n\r\n  function m_fnCheckIfEmailFolderExists(items, requestNumber) {\r\n    //Check if folder exists in email library\r\n    var bFolderExists = false;\r\n    var listItemEnumerator = items.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var folderItem = listItemEnumerator.get_current();\r\n      var itemName = folderItem.get_displayName();\r\n      if (itemName == requestNumber) {\r\n        var bFolderExists = true;\r\n        break;\r\n      }\r\n    }\r\n    return bFolderExists;\r\n  }\r\n\r\n  var m_cntAddToEmailFolder = 0;\r\n  var m_cntAddedToEmailFolder = 0;\r\n\r\n  function m_fnCreateEmailFolder(list, requestNumber, requestItem, OnComplete) {\r\n    m_cntAddToEmailFolder = 0;\r\n    m_cntAddedToEmailFolder = 0;\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var itemCreateInfo = new SP.ListItemCreationInformation();\r\n    itemCreateInfo.set_underlyingObjectType(SP.FileSystemObjectType.folder);\r\n    itemCreateInfo.set_leafName(requestNumber);\r\n    oNewEmailFolder = list.addItem(itemCreateInfo);\r\n    oNewEmailFolder.set_item(\"Title\", requestNumber);\r\n    oNewEmailFolder.update();\r\n\r\n    this.currentUser = web.get_currentUser();\r\n    this.ownerGroup = web.get_associatedOwnerGroup();\r\n    this.memberGroup = web.get_associatedMemberGroup();\r\n    this.visitorGroup = web.get_associatedVisitorGroup();\r\n\r\n    oNewEmailFolder.resetRoleInheritance();\r\n    oNewEmailFolder.breakRoleInheritance(false, false);\r\n\r\n    var roleDefBindingCollAdmin =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollAdmin.add(\r\n      web.get_roleDefinitions().getByType(SP.RoleType.administrator)\r\n    );\r\n\r\n    var roleDefBindingCollContribute =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollContribute.add(\r\n      web.get_roleDefinitions().getByType(SP.RoleType.contributor)\r\n    );\r\n\r\n    var roleDefBindingCollRestrictedRead =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollRestrictedRead.add(\r\n      web.get_roleDefinitions().getByName(\"Restricted Read\")\r\n    );\r\n\r\n    var roleDefBindingCollRestrictedContribute =\r\n      SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n    roleDefBindingCollRestrictedContribute.add(\r\n      web.get_roleDefinitions().getByName(\"Restricted Contribute\")\r\n    );\r\n\r\n    //add associated site groups\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .add(ownerGroup, roleDefBindingCollAdmin);\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .add(memberGroup, roleDefBindingCollContribute);\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .add(visitorGroup, roleDefBindingCollRestrictedRead);\r\n\r\n    var spGroupQA = Audit.Common.Utilities.GetSPSiteGroup(\r\n      Audit.Common.Utilities.GetGroupNameQA()\r\n    );\r\n    if (spGroupQA != null)\r\n      oNewEmailFolder\r\n        .get_roleAssignments()\r\n        .add(spGroupQA, roleDefBindingCollRestrictedContribute);\r\n\r\n    oNewEmailFolder\r\n      .get_roleAssignments()\r\n      .getByPrincipal(currentUser)\r\n      .deleteObject();\r\n\r\n    //Need to break up adding AOs because it exceeds the resource limit (request uses too many resources)\r\n    function onUpdatePermsSucceeded() {\r\n      if (this.requestItem) {\r\n        //this will be null when sending from permissions page\r\n        //add action offices\r\n        var arrActionOffice = this.requestItem.get_item(\"ActionOffice\");\r\n        if (arrActionOffice == null || arrActionOffice.length == 0) {\r\n          if (this.OnComplete) this.OnComplete(true);\r\n          return;\r\n        }\r\n\r\n        for (var x = 0; x < arrActionOffice.length; x++) {\r\n          var actionOfficeName = arrActionOffice[x].get_lookupValue();\r\n\r\n          var actionOfficeGroupName =\r\n            Audit.Common.Utilities.GetAOSPGroupName(actionOfficeName);\r\n          var actionOfficeGroup = Audit.Common.Utilities.GetSPSiteGroup(\r\n            actionOfficeGroupName\r\n          );\r\n\r\n          if (actionOfficeGroup != null) {\r\n            m_cntAddToEmailFolder++;\r\n\r\n            var currCtx2 = new SP.ClientContext.get_current();\r\n            var web2 = currCtx2.get_web();\r\n\r\n            var roleDefBindingCollRestrictedContribute =\r\n              SP.RoleDefinitionBindingCollection.newObject(currCtx2);\r\n            roleDefBindingCollRestrictedContribute.add(\r\n              web2.get_roleDefinitions().getByName(\"Restricted Contribute\")\r\n            );\r\n\r\n            this.oNewEmailFolder\r\n              .get_roleAssignments()\r\n              .add(actionOfficeGroup, roleDefBindingCollRestrictedContribute);\r\n\r\n            function onUpdateAOPermsSucceeded() {\r\n              m_cntAddedToEmailFolder++;\r\n              if (m_cntAddedToEmailFolder == m_cntAddToEmailFolder) {\r\n                if (this.OnComplete) this.OnComplete(true);\r\n              }\r\n            }\r\n            function onUpdateAOPermsFailed(sender, args) {\r\n              m_cntAddedToEmailFolder++;\r\n              if (m_cntAddedToEmailFolder == m_cntAddToEmailFolder) {\r\n                if (this.OnComplete) this.OnComplete(true);\r\n              }\r\n            }\r\n            var data = { OnComplete: this.OnComplete };\r\n            currCtx2.executeQueryAsync(\r\n              Function.createDelegate(data, onUpdateAOPermsSucceeded),\r\n              Function.createDelegate(data, onUpdateAOPermsFailed)\r\n            );\r\n          }\r\n        }\r\n      } else {\r\n        if (this.OnComplete) this.OnComplete(true);\r\n      }\r\n    }\r\n\r\n    function onUpdatePermsFailed(sender, args) {\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Request failed: \" + args.get_message() + \"\\n\" + args.get_stackTrace()\r\n      );\r\n    }\r\n\r\n    var data = {\r\n      /*item: oListItem, */ requestItem: requestItem,\r\n      oNewEmailFolder: oNewEmailFolder,\r\n      OnComplete: OnComplete,\r\n    };\r\n    currCtx.executeQueryAsync(\r\n      Function.createDelegate(data, onUpdatePermsSucceeded),\r\n      Function.createDelegate(data, onUpdatePermsFailed)\r\n    );\r\n  }\r\n\r\n  function m_fnSortResponseTitleNoCase(a, b) {\r\n    var aTitle = a;\r\n    var bTitle = b;\r\n    let newA, newB;\r\n\r\n    if (aTitle == null) aTitle = \"\";\r\n    if (bTitle == null) bTitle = \"\";\r\n\r\n    var aIndex = aTitle.lastIndexOf(\"-\");\r\n    if (aIndex >= 0) {\r\n      var subA = aTitle.substring(0, aIndex + 1);\r\n      var lastA = aTitle.replace(subA, \"\");\r\n      var intA = parseInt(lastA, 10);\r\n      var newIntA = Audit.Common.Utilities.PadDigits(intA, 5);\r\n      newA = subA + newIntA;\r\n    } else newA = aTitle;\r\n\r\n    var bIndex = bTitle.lastIndexOf(\"-\");\r\n    if (bIndex >= 0) {\r\n      var subB = bTitle.substring(0, bIndex + 1);\r\n      var lastB = bTitle.replace(subB, \"\");\r\n      var intB = parseInt(lastB, 10);\r\n      var newIntB = Audit.Common.Utilities.PadDigits(intB, 5);\r\n      newB = subB + newIntB;\r\n    } else newB = bTitle;\r\n\r\n    return newA.toLowerCase().localeCompare(newB.toLowerCase());\r\n  }\r\n\r\n  function m_fnSortResponseObjectNoCase(a, b) {\r\n    var aTitle = a.title;\r\n    var bTitle = b.title;\r\n    var newA;\r\n    var newB;\r\n    if (aTitle == null) aTitle = \"\";\r\n    if (bTitle == null) bTitle = \"\";\r\n\r\n    var aIndex = aTitle.lastIndexOf(\"-\");\r\n    if (aIndex >= 0) {\r\n      var subA = aTitle.substring(0, aIndex + 1);\r\n      var lastA = aTitle.replace(subA, \"\");\r\n      var intA = parseInt(lastA, 10);\r\n      var newIntA = Audit.Common.Utilities.PadDigits(intA, 5);\r\n      newA = subA + newIntA;\r\n    } else newA = aTitle;\r\n\r\n    var bIndex = bTitle.lastIndexOf(\"-\");\r\n    if (bIndex >= 0) {\r\n      var subB = bTitle.substring(0, bIndex + 1);\r\n      var lastB = bTitle.replace(subB, \"\");\r\n      var intB = parseInt(lastB, 10);\r\n      var newIntB = Audit.Common.Utilities.PadDigits(intB, 5);\r\n      newB = subB + newIntB;\r\n    } else newB = bTitle;\r\n\r\n    return newA.toLowerCase().localeCompare(newB.toLowerCase());\r\n  }\r\n\r\n  function m_fnSortNoCase(a, b) {\r\n    return a.toLowerCase().localeCompare(b.toLowerCase());\r\n  }\r\n\r\n  function m_fnSortDate(a, b) {\r\n    if (a == \"\") return -1;\r\n    if (b == \"\") return 1;\r\n    return new Date(a).getTime() - new Date(b).getTime();\r\n  }\r\n\r\n  //Adds the values in the arr array to the drop down with the specified id\r\n  function m_fnAddOptions(arr, ddlID, dateSort, responseSort) {\r\n    if (arr == null) return;\r\n    if (responseSort) arr.sort(m_fnSortResponseTitleNoCase);\r\n    else if (!dateSort) arr.sort(m_fnSortNoCase);\r\n    else arr.sort(m_fnSortDate);\r\n\r\n    var rOptions = new Array(),\r\n      j = -1;\r\n    rOptions[++j] = \"<option value=''>-Select-</option>\";\r\n\r\n    var arrLength = arr.length;\r\n\r\n    /*\tvar fragment = document.createDocumentFragment();\r\n\t\t\tvar choice = document.createElement('option');\r\n\t\t\tchoice.value = \"\";\r\n\t\t\tchoice.innerHTML = \"-Select-\";\r\n\t\t\tfragment.appendChild(choice);\r\n\t\t*/\r\n    for (var x = 0; x < arrLength; x++) {\r\n      var option = $.trim(arr[x]);\r\n\r\n      rOptions[++j] = \"<option value='\" + option + \"'>\" + option + \"</option>\";\r\n\r\n      /*\t\r\n\t\t\tvar choice = document.createElement('option');\r\n\t        choice.value = option;\r\n\t        choice.innerHTML = option;\r\n\t        fragment.appendChild(choice);*/\r\n    }\r\n\r\n    //ddlID = ddlID.replace(\"#\", \"\");\r\n    //document.getElementById(ddlID).innerHTML = rOptions.join('');\r\n\r\n    var thisDDL = $(ddlID);\r\n    thisDDL.empty().append(rOptions.join(\"\"));\r\n    /*var thisDDL = $(ddlID);\r\n\t\tthisDDL.empty().html( fragment );*/\r\n  }\r\n\r\n  function m_fnExistsInArr(arr, val) {\r\n    if (arr == null) return false;\r\n\r\n    var arrLength = arr.length;\r\n    for (var x = 0; x < arrLength; x++) {\r\n      if (arr[x] == val) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function m_fnGetTrueFalseIcon(val) {\r\n    if (val == true)\r\n      return \"<span class='ui-icon ui-icon-check'>\" + val + \"</span>\";\r\n    else return \"<span class='ui-icon ui-icon-close'>\" + val + \"</span>\";\r\n  }\r\n\r\n  function m_fnGetFriendlyDisplayName(oListItem, fieldName) {\r\n    var user = oListItem.get_item(fieldName);\r\n    if (user == null) return \"\";\r\n    else return user.get_lookupValue();\r\n  }\r\n\r\n  function m_fnPadDigits(n, totalDigits) {\r\n    n = n.toString();\r\n    var pd = \"\";\r\n    if (totalDigits > n.length) {\r\n      for (let i = 0; i < totalDigits - n.length; i++) {\r\n        pd += \"0\";\r\n      }\r\n    }\r\n    return pd + n.toString();\r\n  }\r\n\r\n  function m_fnPreciseRound(num, decimals) {\r\n    var sign = num >= 0 ? 1 : -1;\r\n    return (\r\n      Math.round(num * Math.pow(10, decimals) + sign * 0.001) /\r\n      Math.pow(10, decimals)\r\n    ).toFixed(decimals);\r\n  }\r\n\r\n  function m_fnGetFriendlyFileSize(fileSize) {\r\n    if (fileSize == null || fileSize == \"\") return \"\";\r\n\r\n    if (fileSize > 1048576) {\r\n      fileSize =\r\n        Audit.Common.Utilities.PreciseRound(fileSize / 1048576, 2) + \" MB\";\r\n    } else if (fileSize > 1024) {\r\n      fileSize =\r\n        Audit.Common.Utilities.PreciseRound(fileSize / 1024, 2) + \" KB\";\r\n    } else {\r\n      fileSize += \" B\";\r\n    }\r\n    return fileSize;\r\n  }\r\n\r\n  function m_fnISODateString(d) {\r\n    function pad(n) {\r\n      return n < 10 ? \"0\" + n : n;\r\n    }\r\n\r\n    return (\r\n      d.getUTCFullYear() +\r\n      \"-\" +\r\n      pad(d.getUTCMonth() + 1) +\r\n      \"-\" +\r\n      pad(d.getUTCDate()) +\r\n      \"T\" +\r\n      pad(d.getUTCHours()) +\r\n      \":\" +\r\n      pad(d.getUTCMinutes()) +\r\n      \":\" +\r\n      pad(d.getUTCSeconds()) +\r\n      \"Z\"\r\n    );\r\n  }\r\n\r\n  function m_fnBindHandlerResponseDoc() {\r\n    $(\".requestInfo-response-doc img\").click(function (event) {\r\n      event.preventDefault();\r\n      var curIcon = $(this).attr(\"src\");\r\n      if (curIcon == \"/_layouts/images/minus.gif\")\r\n        $(this).attr(\"src\", \"/_layouts/images/plus.gif\");\r\n      else $(this).attr(\"src\", \"/_layouts/images/minus.gif\");\r\n\r\n      //$(this).nextUntil('tr.Grouping').slideToggle(200);\r\n      $(this)\r\n        .parent()\r\n        .parent()\r\n        .nextUntil(\"tr.requestInfo-response-doc\")\r\n        .each(function () {\r\n          $(this).toggleClass(\"collapsed\");\r\n        });\r\n    });\r\n  }\r\n\r\n  /************\r\n\tNotice - for some reason, when the list item opens in a dialog or not in the dialog, it renders differently causing the values to get back data differently\r\n\t********/\r\n  /*\r\n\tfunction m_fnGetLookupFieldText( fieldName )\r\n\t{\r\n\t\tvar field = $( \"select[title='\" + fieldName  + \"']\" );\r\n\t\t\r\n\t\tif( field == null || field.html() == null ) //more than 20 items in the lookup\r\n\t\t{\r\n\t\t\tfield = $( \"input[title='\" + fieldName  + \"']\" );\r\n\t\t\treturn field.val();\r\n\t\t}\r\n\t\telse return $(\"select[title='\" + fieldName  + \"'] option:selected\").text();\r\n\t}\r\n\r\n\t*/\r\n\r\n  function m_fnGetLookupFormField(fieldTitle) {\r\n    if ($(\"select[title='\" + fieldTitle + \"']\").html() !== null) {\r\n      return $(\"select[title='\" + fieldTitle + \"']\");\r\n    } else {\r\n      return $(\"input[title='\" + fieldTitle + \"']\");\r\n    }\r\n  }\r\n\r\n  function m_fnGetLookupDisplayText(fieldTitle) {\r\n    //Set default value for lookups with less that 20 items\r\n    if ($(\"select[title='\" + fieldTitle + \"']\").html() !== null) {\r\n      return $(\"select[title='\" + fieldTitle + \"'] option:selected\").text();\r\n    } else {\r\n      return $(\"input[title='\" + fieldTitle + \"']\").val();\r\n    }\r\n  }\r\n\r\n  function m_fnSetLookupFromFieldNameByText(fieldName, text) {\r\n    try {\r\n      if (text == undefined) return;\r\n      var theSelect = m_fnGetTagFromIdentifierAndTitle(\"select\", \"\", fieldName);\r\n\r\n      if (theSelect == null) {\r\n        var theInput = m_fnGetTagFromIdentifierAndTitle(\"input\", \"\", fieldName);\r\n        //builtin\r\n        ShowDropdown(theInput.id);\r\n        var opt = document.getElementById(theInput.opt);\r\n        m_fnSetSelectedOptionByText(opt, text);\r\n        //builtin\r\n        OptLoseFocus(opt);\r\n      } else {\r\n        m_fnSetSelectedOptionByText(theSelect, text);\r\n      }\r\n    } catch (ex) {}\r\n  }\r\n\r\n  function m_fnSetSelectedOptionByText(select, text) {\r\n    var opts = select.options;\r\n    var optLength = opts.length;\r\n    if (select == null) return;\r\n\r\n    for (var i = 0; i < optLength; i++) {\r\n      if (opts[i].text == text) {\r\n        select.selectedIndex = i;\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function m_fnGetTagFromIdentifierAndTitle(tagName, identifier, title) {\r\n    var idLength = identifier.length;\r\n    var tags = document.getElementsByTagName(tagName);\r\n    for (var i = 0; i < tags.length; i++) {\r\n      var tagID = tags[i].id;\r\n      if (\r\n        tags[i].title == title &&\r\n        (identifier == \"\" ||\r\n          tagID.indexOf(identifier) == tagID.length - idLength)\r\n      ) {\r\n        return tags[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function m_fnViewUserManuals(docType) {\r\n    var options = SP.UI.$create_DialogOptions();\r\n    options.title = \"User Manual\";\r\n    options.height = 250;\r\n    //options.dialogReturnValueCallback = OnCallbackForm;\r\n    if (docType != null)\r\n      options.url =\r\n        Audit.Common.Utilities.GetSiteUrl() +\r\n        \"/pages/AuditUserManuals.aspx?FilterField1=DocType&FilterValue1=\" +\r\n        docType;\r\n    else\r\n      options.url =\r\n        Audit.Common.Utilities.GetSiteUrl() + \"/pages/AuditUserManuals.aspx\";\r\n\r\n    SP.UI.ModalDialog.showModalDialog(options);\r\n  }\r\n\r\n  function m_fnPrintPage(pageTitle, divTbl) {\r\n    var curDate = new Date();\r\n    var siteUrl = Audit.Common.Utilities.GetSiteUrl();\r\n    var cssLink1 =\r\n      siteUrl +\r\n      \"/siteassets/css/tablesorter/style.css?v=\" +\r\n      curDate.format(\"MM_dd_yyyy\");\r\n    var cssLink2 =\r\n      siteUrl +\r\n      \"/siteAssets/css/audit_styles.css?v=\" +\r\n      curDate.format(\"MM_dd_yyyy\");\r\n\r\n    var divOutput = $(divTbl).html();\r\n\r\n    //remove hyperlinks pointing to the job codes\r\n    var updatedDivOutput = $(\"<div>\").append(divOutput);\r\n    updatedDivOutput.find(\".sr-response-title a\").each(function () {\r\n      $(this).removeAttr(\"onclick\");\r\n      $(this).removeAttr(\"href\");\r\n    });\r\n\r\n    divOutput = updatedDivOutput.html();\r\n\r\n    var printDateString = curDate.format(\"MM/dd/yyyy hh:mm tt\");\r\n    printDateString =\r\n      \"<div style='padding-bottom:10px;'>\" + printDateString + \"</div>\";\r\n    divOutput = printDateString + divOutput;\r\n\r\n    var cssFile1 = $(\"<div></div>\");\r\n    var cssFile2 = $(\"<div></div>\");\r\n\r\n    var def1 = $.Deferred();\r\n    var def2 = $.Deferred();\r\n\r\n    var cssFileText = \"\";\r\n    cssFile1.load(cssLink1, function () {\r\n      cssFileText += \"<style>\" + cssFile1.html() + \"</style>\";\r\n      def1.resolve();\r\n    });\r\n    cssFile2.load(cssLink2, function () {\r\n      cssFileText += \"<style>\" + cssFile2.html() + \"</style>\";\r\n      def2.resolve();\r\n    });\r\n\r\n    //gets called asynchronously after the css files have been loaded\r\n    $.when(def1, def2).done(function () {\r\n      var html =\r\n        \"<HTML>\\n\" +\r\n        \"<HEAD>\\n\\n\" +\r\n        \"<Title>\" +\r\n        pageTitle +\r\n        \"</Title>\\n\" +\r\n        cssFileText +\r\n        \"\\n\" +\r\n        \"<style>\" +\r\n        \".hideOnPrint, .rowFilters {display:none}\" +\r\n        \"</style>\\n\" +\r\n        \"</HEAD>\\n\" +\r\n        \"<BODY>\\n\" +\r\n        divOutput +\r\n        \"\\n\" +\r\n        \"</BODY>\\n\" +\r\n        \"</HTML>\";\r\n\r\n      var printWP = window.open(\"\", \"printWebPart\");\r\n      printWP.document.open();\r\n      //insert content\r\n      printWP.document.write(html);\r\n\r\n      printWP.document.close();\r\n      //open print dialog\r\n      printWP.print();\r\n    });\r\n  }\r\n\r\n  //make sure iframe with id csvexprframe is added to page up top\r\n  //http://stackoverflow.com/questions/18185660/javascript-jquery-exporting-data-in-csv-not-working-in-ie\r\n  function m_fnExportToCsv(fileName, tableName, removeHeader) {\r\n    var data = m_fnGetCellValues(tableName);\r\n\r\n    if (removeHeader == true) data = data.slice(1);\r\n\r\n    var csv = m_fnConvertToCsv(data);\r\n    //\tconsole.log( csv );\r\n    if (navigator.userAgent.search(\"Trident\") >= 0) {\r\n      window.CsvExpFrame.document.open(\"text/html\", \"replace\");\r\n      //\t\twindow.CsvExpFrame.document.open(\"application/csv\", \"replace\");\r\n      //\t\twindow.CsvExpFrame.document.charset = \"utf-8\";\r\n      //\t\twindow.CsvExpFrame.document.open(\"application/ms-excel\", \"replace\");\r\n      window.CsvExpFrame.document.write(csv);\r\n      window.CsvExpFrame.document.close();\r\n      window.CsvExpFrame.focus();\r\n      window.CsvExpFrame.document.execCommand(\r\n        \"SaveAs\",\r\n        true,\r\n        fileName + \".csv\"\r\n      );\r\n    } else {\r\n      var uri = \"data:text/csv;charset=utf-8,\" + escape(csv);\r\n      var downloadLink = document.createElement(\"a\");\r\n      downloadLink.href = uri;\r\n      downloadLink.download = fileName + \".csv\";\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n    }\r\n  }\r\n\r\n  function m_fnGetCellValues(tableName) {\r\n    var table = document.getElementById(tableName);\r\n\r\n    //remove headers and footers\r\n    if (table.innerHTML.indexOf(\"rowFilters\") >= 0) {\r\n      var deets = $(\"<div>\").append(table.outerHTML);\r\n      deets.find(\".rowFilters\").each(function () {\r\n        $(this).remove();\r\n      });\r\n      table = deets.find(\"table\")[0];\r\n    }\r\n    if (table.innerHTML.indexOf(\"footer\") >= 0) {\r\n      var deets = $(\"<div>\").append(table.outerHTML);\r\n      deets.find(\".footer\").each(function () {\r\n        $(this).remove();\r\n      });\r\n      table = deets.find(\"table\")[0];\r\n    }\r\n\r\n    var tableArray = [];\r\n    for (var r = 0, n = table.rows.length; r < n; r++) {\r\n      tableArray[r] = [];\r\n      for (var c = 0, m = table.rows[r].cells.length; c < m; c++) {\r\n        var text =\r\n          table.rows[r].cells[c].textContent ||\r\n          table.rows[r].cells[c].innerText;\r\n        tableArray[r][c] = text.trim();\r\n      }\r\n    }\r\n    return tableArray;\r\n  }\r\n\r\n  function m_fnConvertToCsv(objArray) {\r\n    var array = typeof objArray != \"object\" ? JSON.parse(objArray) : objArray;\r\n    var str = \"sep=,\\r\\n\";\r\n    var line = \"\";\r\n    var index;\r\n    var value;\r\n    for (var i = 0; i < array.length; i++) {\r\n      line = \"\";\r\n      var array1 = array[i];\r\n      for (index in array1) {\r\n        if (array1.hasOwnProperty(index)) {\r\n          value = array1[index] + \"\";\r\n          line += '\"' + value.replace(/\"/g, '\"\"') + '\",';\r\n        }\r\n      }\r\n      line = line.slice(0, -1);\r\n      str += line + \"\\r\\n\";\r\n    }\r\n    return str;\r\n  }\r\n\r\n  var publicMembers = {\r\n    GetSiteUrl: function () {\r\n      if (m_siteUrl == \"/\") return \"\";\r\n      else return m_siteUrl;\r\n    },\r\n    GetListTitleRequests: function () {\r\n      return m_listTitleRequests;\r\n    },\r\n    GetListNameRequests: function () {\r\n      return m_listNameRequests;\r\n    },\r\n    GetListTitleRequestsInternal: function () {\r\n      return m_listTitleRequestsInternal;\r\n    },\r\n    GetListNameRequestsInternal: function () {\r\n      return m_listNameRequestsInternal;\r\n    },\r\n    GetListTitleResponses: function () {\r\n      return m_listTitleResponses;\r\n    },\r\n    GetListNameResponses: function () {\r\n      return m_listNameResponses;\r\n    },\r\n    GetLibTitleRequestDocs: function () {\r\n      return m_libTitleRequestDocs;\r\n    },\r\n    GetLibNameRequestDocs: function () {\r\n      return m_libNameRequestDocs;\r\n    },\r\n    GetLibTitleCoverSheets: function () {\r\n      return m_libTitleCoverSheet;\r\n    },\r\n    GetLibNameCoverSheets: function () {\r\n      return m_libNameCoverSheet;\r\n    },\r\n    GetLibTitleResponseDocs: function () {\r\n      return m_libTitleResponseDocs;\r\n    },\r\n    GetLibNameResponseDocs: function () {\r\n      return m_libNameResponseDocs;\r\n    },\r\n    GetLibTitleResponseDocsEA: function () {\r\n      return m_libTitleResponseDocsEA;\r\n    },\r\n    GetLibNameResponseDocsEA: function () {\r\n      return m_libNameResponseDocsEA;\r\n    },\r\n    GetListTitleActionOffices: function () {\r\n      return m_listTitleActionOffices;\r\n    },\r\n    GetListNameActionOffices: function () {\r\n      return m_listNameActionOffices;\r\n    },\r\n    GetListTitleEmailHistory: function () {\r\n      return m_listTitleEmailHistory;\r\n    },\r\n    GetListNameEmailHistory: function () {\r\n      return m_listNameEmailHistory;\r\n    },\r\n    GetListTitleBulkResponses: function () {\r\n      return m_listTitleBulkResponses;\r\n    },\r\n    GetListNameBulkResponses: function () {\r\n      return m_listNameBulkResponses;\r\n    },\r\n    GetListTitleBulkPermissions: function () {\r\n      return m_listTitleBulkPermissions;\r\n    },\r\n    GetListNameBulkPermissions: function () {\r\n      return m_listNameBulkPermissions;\r\n    },\r\n    GetGroupNameSpecialPerm1: function () {\r\n      return m_groupNameSpecialPermName1;\r\n    },\r\n    GetGroupNameSpecialPerm2: function () {\r\n      return m_groupNameSpecialPermName2;\r\n    },\r\n    GetGroupNameQA: function () {\r\n      return m_groupNameQA;\r\n    },\r\n    GetGroupNameEA: function () {\r\n      return m_groupNameEA;\r\n    },\r\n    Refresh: m_fnRefresh,\r\n    OnLoadDisplayTimeStamp: m_fnOnLoadDisplayTimeStamp,\r\n    OnLoadDisplayTabAndResponse: m_fnOnLoadDisplayTabAndResponse,\r\n    OnLoadFilterResponses: function (responseStatus1, responseStatus2) {\r\n      m_fnOnLoadFilterResponses(responseStatus1, responseStatus2);\r\n    },\r\n    SetResponseDocLibGUID: function (libGUID) {\r\n      m_libResponseDocsLibraryGUID = libGUID;\r\n    },\r\n    GetResponseDocLibGUID: function () {\r\n      return m_libResponseDocsLibraryGUID;\r\n    },\r\n    LoadSiteGroups: function (itemColl) {\r\n      m_fnLoadSiteGroups(itemColl);\r\n    },\r\n    GetSPSiteGroup: function (groupName) {\r\n      return m_fnGetSPSiteGroup(groupName);\r\n    },\r\n    LoadActionOffices: function (itemColl) {\r\n      m_fnLoadActionOffices(itemColl);\r\n    },\r\n    GetActionOffices: function () {\r\n      return m_arrAOs;\r\n    },\r\n    GetAOSPGroupName: function (groupName) {\r\n      return m_fnGetAOSPGroupName(groupName);\r\n    },\r\n    CheckSPItemHasGroupPermission: function (item, groupName, permissionLevel) {\r\n      return m_fnCheckSPItemHasGroupPermission(\r\n        item,\r\n        groupName,\r\n        permissionLevel\r\n      );\r\n    },\r\n    GoToResponse: function (responseTitle, isIA) {\r\n      m_fnGoToResponse(responseTitle, isIA);\r\n    },\r\n    GetResponseDocStyleTag: function (documentStatus) {\r\n      return m_fnGetResponseDocStyleTag(documentStatus);\r\n    },\r\n    GetResponseDocStyleTag2: function (documentStatus) {\r\n      return m_fnGetResponseDocStyleTag2(documentStatus);\r\n    },\r\n    CheckIfEmailFolderExists: function (items, requestNumber) {\r\n      return m_fnCheckIfEmailFolderExists(items, requestNumber);\r\n    },\r\n    CreateEmailFolder: function (list, requestNumber, requestItem, OnComplete) {\r\n      return m_fnCreateEmailFolder(\r\n        list,\r\n        requestNumber,\r\n        requestItem,\r\n        OnComplete\r\n      );\r\n    },\r\n    AddOptions: function (arr, ddlID, dateSort, responseSort) {\r\n      m_fnAddOptions(arr, ddlID, dateSort, responseSort);\r\n    },\r\n    ExistsInArr: function (arr, val) {\r\n      return m_fnExistsInArr(arr, val);\r\n    },\r\n    GetTrueFalseIcon: function (val) {\r\n      return m_fnGetTrueFalseIcon(val);\r\n    },\r\n    PadDigits: function (n, totalDigits) {\r\n      return m_fnPadDigits(n, totalDigits);\r\n    },\r\n    PreciseRound: function (num, decimals) {\r\n      return m_fnPreciseRound(num, decimals);\r\n    },\r\n    GetFriendlyFileSize: function (fileSize) {\r\n      return m_fnGetFriendlyFileSize(fileSize);\r\n    },\r\n    GetISODateString: function (d) {\r\n      return m_fnISODateString(d);\r\n    },\r\n    GetFriendlyDisplayName: function (oListItem, fieldName) {\r\n      return m_fnGetFriendlyDisplayName(oListItem, fieldName);\r\n    },\r\n    BindHandlerResponseDoc: m_fnBindHandlerResponseDoc,\r\n    PrintStatusReport: function (pageTitle, divTbl) {\r\n      m_fnPrintPage(pageTitle, divTbl);\r\n    },\r\n    ExportToCsv: function (fileName, tableName, removeHeader) {\r\n      m_fnExportToCsv(fileName, tableName, removeHeader);\r\n    },\r\n    ViewUserManuals: function (docType) {\r\n      m_fnViewUserManuals(docType);\r\n    },\r\n    //GetLookupFieldText: function( fieldName ){ return m_fnGetLookupFieldText( fieldName); },\r\n    GetLookupDisplayText: function (fieldName) {\r\n      return m_fnGetLookupDisplayText(fieldName);\r\n    },\r\n    GetLookupFormField: function (fieldName) {\r\n      return m_fnGetLookupFormField(fieldName);\r\n    },\r\n    SetLookupFromFieldNameByText: function (fieldName, text) {\r\n      return m_fnSetLookupFromFieldNameByText(fieldName, text);\r\n    },\r\n    SortResponseObjects: function (a, b) {\r\n      return m_fnSortResponseObjectNoCase(a, b);\r\n    },\r\n    SortResponseTitles: m_fnSortResponseTitleNoCase,\r\n  };\r\n\r\n  return publicMembers;\r\n};\r\n\r\n// ExecuteOrDelayUntilScriptLoaded(InitReport, \"sp.js\");\r\nInitReport();\r\n", "\uFEFFimport \"../../common/utilities.js\";\r\n\r\nwindow.Audit = window.Audit || {};\r\nAudit.BulkUpdateUsers = Audit.BulkUpdateUsers || {};\r\n\r\nconst html = String.raw;\r\n\r\ndocument.getElementById(\"app\").innerHTML = html`\r\n  <div class=\"audit\">\r\n    <div id=\"divLoadSettings\" style=\"display: none\">\r\n      <fieldset>\r\n        <legend>Update SharePoint Group Users</legend>\r\n        <div style=\"padding-top: 10px\">\r\n          <a href=\"javascript:void\" id=\"btnUploadUsers\"\r\n            ><span class=\"ui-icon ui-icon-gear\"></span>Click Here to Upload\r\n            Users</a\r\n          >\r\n        </div>\r\n        <div style=\"padding-top: 10px\">\r\n          <a href=\"javascript:void\" id=\"btnLoadUsers\" style=\"display: none\"\r\n            >Click Here to Display Uploaded Users</a\r\n          >\r\n        </div>\r\n      </fieldset>\r\n    </div>\r\n    <div id=\"tblUnfoundUsers\" style=\"padding-top: 15px; color: red\"></div>\r\n    <div id=\"divLoadBulkUsersOutput\" style=\"padding-top: 15px\"></div>\r\n    <div style=\"padding-top: 15px\">\r\n      <a\r\n        href=\"javascript:void\"\r\n        id=\"btnCreateUsers\"\r\n        style=\"display: none\"\r\n        title=\"Click here to Update Site Groups\"\r\n        ><span class=\"ui-icon ui-icon-disk\"></span>Click Here to Create\r\n        SharePoint Groups or Update the SharePoint Groups with the Users\r\n        Listed</a\r\n      >\r\n    </div>\r\n  </div>\r\n`;\r\n\r\nif (document.readyState === \"ready\" || document.readyState === \"complete\") {\r\n  InitReport();\r\n} else {\r\n  document.onreadystatechange = () => {\r\n    if (document.readyState === \"complete\" || document.readyState === \"ready\") {\r\n      ExecuteOrDelayUntilScriptLoaded(function () {\r\n        SP.SOD.executeFunc(\"sp.js\", \"SP.ClientContext\", InitReport);\r\n      }, \"sp.js\");\r\n    }\r\n  };\r\n}\r\n\r\nfunction InitReport() {\r\n  Audit.BulkUpdateUsers.Report = new Audit.BulkUpdateUsers.Load();\r\n  Audit.BulkUpdateUsers.Init();\r\n}\r\n\r\nAudit.BulkUpdateUsers.Init = function () {};\r\n\r\nAudit.BulkUpdateUsers.Load = function () {\r\n  var m_listViewId = null;\r\n\r\n  var m_arrGroups = new Array();\r\n  var m_ownerGroupName = null;\r\n  var m_memberGroupName = null;\r\n  var m_visitorGroupName = null;\r\n\r\n  var m_arrBulkUsers;\r\n  var collGroup;\r\n\r\n  var notifyId;\r\n\r\n  LoadInfo();\r\n\r\n  function LoadInfo() {\r\n    $(\"#divTblOutput\").html(\"\");\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    collGroup = currCtx.get_web().get_siteGroups();\r\n    currCtx.load(collGroup);\r\n    currCtx.load(collGroup, \"Include(Users)\");\r\n\r\n    var m_bulkPermissionsList = currCtx\r\n      .get_web()\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListNameBulkPermissions());\r\n    var m_view = m_bulkPermissionsList.get_views().getByTitle(\"All Items\");\r\n    currCtx.load(m_view);\r\n\r\n    currCtx.executeQueryAsync(OnSuccess, OnFailure);\r\n    function OnSuccess(sender, args) {\r\n      m_listViewId = m_view.get_id();\r\n\r\n      m_fnLoadSiteGroups(collGroup);\r\n\r\n      $(\"#divLoadSettings\").show();\r\n      m_fnBindHandlersOnLoad();\r\n\r\n      var isModalDlg = GetUrlKeyValue(\"IsDlg\");\r\n      if (isModalDlg == null || isModalDlg == \"\" || isModalDlg == false) {\r\n        $(\"#btnRefresh\").show();\r\n      }\r\n    }\r\n    function OnFailure(sender, args) {\r\n      $(\"#divLoading\").hide();\r\n\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Request failed: \" + args.get_message() + \"\\n\" + args.get_stackTrace()\r\n      );\r\n      SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n    }\r\n  }\r\n\r\n  function m_fnLoadSiteGroups(collGroup) {\r\n    m_arrGroups = new Array();\r\n    var listEnumerator = collGroup.getEnumerator();\r\n    while (listEnumerator.moveNext()) {\r\n      var item = listEnumerator.get_current();\r\n      var groupName = item.get_title();\r\n      groupName = $.trim(groupName);\r\n      var groupID = item.get_id();\r\n\r\n      var arrPerms = new Array();\r\n      var listEnumerator1 = item.get_users().getEnumerator();\r\n      while (listEnumerator1.moveNext()) {\r\n        var item1 = listEnumerator1.get_current();\r\n        var displayName = item1.get_loginName();\r\n        arrPerms.push(displayName);\r\n      }\r\n\r\n      arrPerms.sort();\r\n      var users = \"\";\r\n      for (var g = 0; g < arrPerms.length; g++) {\r\n        users += arrPerms[g] + \";\";\r\n      }\r\n\r\n      var oGroup = new Object();\r\n      oGroup[\"Title\"] = groupName.toLowerCase();\r\n      oGroup[\"Users\"] = users;\r\n      oGroup[\"SPGroupID\"] = groupID;\r\n      m_arrGroups.push(oGroup);\r\n    }\r\n  }\r\n\r\n  function m_fnRefresh() {\r\n    var curPath = location.pathname;\r\n\r\n    var tabIndex = $(\"#tabs\").tabs(\"option\", \"active\");\r\n    curPath += \"?Tab=\" + tabIndex;\r\n\r\n    location.href = curPath;\r\n  }\r\n\r\n  function m_fnUploadUsers() {\r\n    var options = SP.UI.$create_DialogOptions();\r\n    options.title = \"Upload Users\";\r\n    options.dialogReturnValueCallback = OnCallbackForm;\r\n\r\n    var guid = m_listViewId.toString();\r\n    guid = guid.replace(/-/g, \"%2D\");\r\n    guid = guid.toUpperCase();\r\n    options.url =\r\n      Audit.Common.Utilities.GetSiteUrl() +\r\n      \"/Lists/\" +\r\n      Audit.Common.Utilities.GetListNameBulkPermissions() +\r\n      \"/AllItems.aspx\" +\r\n      \"?ShowInGrid=True&View=%7B\" +\r\n      guid +\r\n      \"%7D\";\r\n    options.height = 700;\r\n    SP.UI.ModalDialog.showModalDialog(options);\r\n  }\r\n\r\n  var m_countToRun = 0;\r\n  var m_countRan = 0;\r\n  var m_curOutput = \"\";\r\n  var m_arrUnfoundUsers = null;\r\n\r\n  function m_fnLoadBulkUsers() {\r\n    m_arrBulkUsers = new Array();\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var bulkPermissionsList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleBulkPermissions());\r\n    var bulkPermissionsQuery = new SP.CamlQuery();\r\n    bulkPermissionsQuery.set_viewXml(\r\n      '<View><Query><OrderBy><FieldRef Name=\"Title\"/></OrderBy></Query></View>'\r\n    );\r\n    var bulkPermissionsItems =\r\n      bulkPermissionsList.getItems(bulkPermissionsQuery);\r\n    currCtx.load(bulkPermissionsItems, \"Include(ID, Title, UserNames)\");\r\n\r\n    function OnSuccess(sender, args) {\r\n      var listItemEnumerator = bulkPermissionsItems.getEnumerator();\r\n      while (listItemEnumerator.moveNext()) {\r\n        var oListItem = listItemEnumerator.get_current();\r\n\r\n        var id = oListItem.get_item(\"ID\");\r\n        var groupName = oListItem.get_item(\"Title\");\r\n        if (groupName != null) groupName = $.trim(groupName);\r\n        var userNames = oListItem.get_item(\"UserNames\");\r\n\r\n        var bulkObject = new Object();\r\n        bulkObject[\"ID\"] = id;\r\n        bulkObject[\"groupName\"] = groupName;\r\n        bulkObject[\"newUserNames\"] = userNames;\r\n        bulkObject[\"existingUserNames\"] = null;\r\n\r\n        var bIsValid = true;\r\n        var sInvalidReason = null;\r\n\r\n        if (bIsValid) {\r\n          var bFound = false;\r\n          for (var x = 0; x < m_arrGroups.length; x++) {\r\n            if (m_arrGroups[x].Title == groupName.toLowerCase()) {\r\n              bulkObject[\"existingUserNames\"] = m_arrGroups[x].Users;\r\n              bulkObject[\"SPGroupID\"] = m_arrGroups[x].SPGroupID;\r\n              bFound = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!bFound) {\r\n            bIsValid = false;\r\n            sInvalidReason =\r\n              \"SharePoint Group not found. An attempt to create it will be made when clicking save below\";\r\n          }\r\n        }\r\n\r\n        bulkObject[\"isValid\"] = bIsValid;\r\n        bulkObject[\"invalidReason\"] = sInvalidReason;\r\n        m_arrBulkUsers.push(bulkObject);\r\n      }\r\n\r\n      var hasOneValid = false;\r\n      var output =\r\n        \"<table class='tablesorter report' id='outputTable'><tr><thead><th>SharePoint Group</th><th>Current User Names</th><th>Replace Users with</th></thead></tr>\";\r\n      for (var x = 0; x < m_arrBulkUsers.length; x++) {\r\n        var oBulkItem = m_arrBulkUsers[x];\r\n        if (oBulkItem.isValid) {\r\n          output +=\r\n            \"<tr id='tableRow\" +\r\n            x +\r\n            \"'><td id='tdGroup\" +\r\n            x +\r\n            \"'>\" +\r\n            oBulkItem.groupName +\r\n            \"</td><td>\" +\r\n            m_fnGetFriendlyUsers(oBulkItem.existingUserNames) +\r\n            \"</td><td>\" +\r\n            m_fnGetFriendlyUsers(oBulkItem.newUserNames) +\r\n            \"</td></tr>\";\r\n          hasOneValid = true;\r\n        } else {\r\n          output +=\r\n            \"<tr id='tableRow\" +\r\n            x +\r\n            \"' style='background-color:lemonchiffon; font-style:italic;' title='\" +\r\n            oBulkItem.invalidReason +\r\n            \"'><td>\" +\r\n            oBulkItem.groupName +\r\n            \" - \" +\r\n            oBulkItem.invalidReason +\r\n            \"</td><td>\" +\r\n            m_fnGetFriendlyUsers(oBulkItem.existingUserNames) +\r\n            \"</td><td>\" +\r\n            m_fnGetFriendlyUsers(oBulkItem.newUserNames) +\r\n            \"</td></tr>\";\r\n        }\r\n      }\r\n      $(\"#divLoadBulkUsersOutput\").html((output += \"</table>\"));\r\n\r\n      if (m_arrBulkUsers.length == 0) {\r\n        $(\"#divLoadBulkUsersOutput\").html(\"\");\r\n        return;\r\n      }\r\n\r\n      $(\"#btnCreateUsers\").show();\r\n      $(\"#tblUnfoundUsers\").html(\"\");\r\n\r\n      m_fnCheckUsersAreValid();\r\n\r\n      /*if( hasOneValid )\r\n\t\t\t{\r\n\t\t\t\t$(\"#btnCreateUsers\").show();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$(\"#btnCreateUsers\").hide();\r\n\t\t\t}*/\r\n    }\r\n    function OnFailure(sender, args) {\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Unable to load from the Bulk Upload List: \" +\r\n          args.get_message() +\r\n          \"\\n\" +\r\n          args.get_stackTrace()\r\n      );\r\n      SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n    }\r\n\r\n    currCtx.executeQueryAsync(OnSuccess, OnFailure);\r\n  }\r\n\r\n  function m_fnCheckUsersAreValid() {\r\n    m_countToRun = 0;\r\n    m_countRan = 0;\r\n    m_curOutput = $(\"#divLoadBulkUsersOutput\").html();\r\n    m_arrUnfoundUsers = new Array();\r\n\r\n    for (var x = 0; x < m_arrBulkUsers.length; x++) {\r\n      var oBulkItem = m_arrBulkUsers[x];\r\n      if (oBulkItem.isValid) {\r\n        var newPermsArr = null;\r\n        if (oBulkItem.newUserNames)\r\n          newPermsArr = oBulkItem.newUserNames.split(\";\");\r\n\r\n        if (newPermsArr) {\r\n          for (var y = 0; y < newPermsArr.length; y++) {\r\n            m_countToRun++;\r\n            var currCtx = new SP.ClientContext.get_current();\r\n            var web = currCtx.get_web();\r\n\r\n            var userDisplayName = newPermsArr[y];\r\n            userDisplayName = $.trim(userDisplayName);\r\n            result = SP.Utilities.Utility.resolvePrincipal(\r\n              currCtx,\r\n              web,\r\n              userDisplayName,\r\n              SP.Utilities.PrincipalType.user,\r\n              SP.Utilities.PrincipalSource.all,\r\n              null,\r\n              false\r\n            );\r\n\r\n            function OnSuccess(sender, args) {\r\n              m_countRan++;\r\n              if (\r\n                this.result &&\r\n                this.result.get_loginName() != null &&\r\n                this.result.get_loginName() != \"\"\r\n              ) {\r\n                var loginName = this.result.get_loginName();\r\n                var userDisplayName = this.userDisplayName;\r\n                //m_curOutput = m_curOutput.split( userDisplayName ).join( loginName );\r\n              } else {\r\n                var userDisplayName = this.userDisplayName;\r\n\r\n                var curunfound = $(\"#tblUnfoundUsers\").html();\r\n                curunfound += \"<div>\" + userDisplayName + \"</div>\";\r\n                if ($(\"#tblUnfoundUsers\").html() == \"\") {\r\n                  $(\"#tblUnfoundUsers\").html(\r\n                    \"<div>These users were not found and will be skipped:</div>\" +\r\n                      curunfound\r\n                  );\r\n                } else $(\"#tblUnfoundUsers\").html(curunfound);\r\n\r\n                //remove this from new users output\r\n                m_curOutput = m_curOutput\r\n                  .split(\"<LI>\" + userDisplayName + \"</LI>\")\r\n                  .join(\"\");\r\n\r\n                m_arrUnfoundUsers.push(userDisplayName);\r\n              }\r\n\r\n              if (m_countToRun == m_countRan) {\r\n                //m_waitDialog.close();\r\n                $(\"#divLoadBulkUsersOutput\").html(m_curOutput);\r\n\r\n                m_fnUpdatePermsToAdd();\r\n              }\r\n            }\r\n\r\n            function OnFailure(sender, args) {\r\n              var userDisplayName = this.userDisplayName;\r\n\r\n              var curunfound = $(\"#tblUnfoundUsers\").html();\r\n              curunfound += \"<div>\" + userDisplayName + \"</div>\";\r\n              $(\"#tblUnfoundUsers\").html(curunfound);\r\n\r\n              //remove this from new users output\r\n              m_curOutput = m_curOutput\r\n                .split(\"<LI>\" + userDisplayName + \"</LI>\")\r\n                .join(\"\");\r\n              m_arrUnfoundUsers.push(userDisplayName);\r\n\r\n              m_countRan++;\r\n              if (m_countToRun == m_countRan) {\r\n                //m_waitDialog.close();\r\n                $(\"#divLoadBulkUsersOutput\").html(m_curOutput);\r\n                m_fnUpdatePermsToAdd();\r\n              }\r\n\r\n              alert(error);\r\n            }\r\n\r\n            var data = { userDisplayName: userDisplayName, result: result };\r\n            currCtx.executeQueryAsync(\r\n              Function.createDelegate(data, OnSuccess),\r\n              Function.createDelegate(data, OnFailure)\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function m_fnUpdatePermsToAdd() {\r\n    for (var x = 0; x < m_arrUnfoundUsers.length; x++) {\r\n      var username = m_arrUnfoundUsers[x];\r\n      username = $.trim(username);\r\n      if (username != null && username != \"\") {\r\n        for (var z = 0; z < m_arrBulkUsers.length; z++) {\r\n          var oBulkItem = m_arrBulkUsers[z];\r\n          if (oBulkItem.isValid) {\r\n            oBulkItem.newUserNames = oBulkItem.newUserNames\r\n              .split(username + \";\")\r\n              .join(\"\");\r\n            oBulkItem.newUserNames = oBulkItem.newUserNames\r\n              .split(username)\r\n              .join(\"\"); //for the ones that don't end in semi\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function m_fnGetFriendlyUsers(perms) {\r\n    if (perms == null || perms == \"\") return \"\";\r\n\r\n    perms = perms.replace(/; /gi, \";\");\r\n    var permArr = perms.split(\";\");\r\n    permArr = permArr.sort();\r\n    var output = \"<ul>\";\r\n    for (var x = 0; x < permArr.length; x++) {\r\n      if (permArr[x] != null && $.trim(permArr[x])) {\r\n        output += \"<li>\" + permArr[x] + \"</li>\";\r\n      }\r\n    }\r\n    output += \"</ul>\";\r\n    return output;\r\n  }\r\n\r\n  var m_countToCreate = 0;\r\n  var m_countCreated = 0;\r\n\r\n  function m_fnCreateUsers() {\r\n    if (\r\n      confirm(\r\n        \"Are you sure you would like to Create or Update the SharePoint Groups? If Creating a Group, please re-run after the operation completed. If updating a Group, this action will replace ALL existing users in the Groups\"\r\n      )\r\n    ) {\r\n      $(\"#btnCreateUsers\").hide();\r\n      document.body.style.cursor = \"wait\";\r\n      notifyId = SP.UI.Notify.addNotification(\"Please wait... \", false);\r\n\r\n      for (var x = 0; x < m_arrBulkUsers.length; x++) {\r\n        var oBulkItem = m_arrBulkUsers[x];\r\n\r\n        if (!oBulkItem.isValid) {\r\n          //create the sharepoint group\r\n          m_countToCreate++;\r\n          var currCtx = new SP.ClientContext.get_current();\r\n          var web = currCtx.get_web();\r\n\r\n          var collGroup = currCtx.get_web().get_siteGroups();\r\n\r\n          var newGRP = new SP.GroupCreationInformation();\r\n          newGRP.set_title(oBulkItem.groupName);\r\n\r\n          function OnSuccessCreateGroup(sender, args) {\r\n            var currCtx = new SP.ClientContext.get_current();\r\n            var newCreateGroup = collGroup.add(this.group);\r\n            //Role Definition\r\n            var rolDef = web.get_roleDefinitions().getByName(\"Restricted Read\");\r\n            var rolDefColl =\r\n              SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n            rolDefColl.add(rolDef);\r\n\r\n            // Get the RoleAssignmentCollection for the target web.\r\n            var roleAssignments = web.get_roleAssignments();\r\n            // assign the group to the new RoleDefinitionBindingCollection.\r\n            roleAssignments.add(newCreateGroup, rolDefColl);\r\n            //Set group properties\r\n            newCreateGroup.set_allowMembersEditMembership(false);\r\n            newCreateGroup.set_onlyAllowMembersViewMembership(false);\r\n            newCreateGroup.set_owner(\r\n              currCtx.get_web().get_associatedOwnerGroup()\r\n            );\r\n\r\n            newCreateGroup.update();\r\n\r\n            collGroup = currCtx.get_web().get_siteGroups();\r\n            currCtx.load(collGroup);\r\n            currCtx.load(collGroup, \"Include(Users)\");\r\n\r\n            function OnSuccessUpdateGroupProps(sender, args) {\r\n              m_countCreated++;\r\n\r\n              $(\"#tableRow\" + this.tableRowId).attr(\r\n                \"style\",\r\n                \"background-color:palegreen\"\r\n              );\r\n              $(\"#tableRow\" + this.tableRowId).attr(\r\n                \"title\",\r\n                \"Created SharePoint Group. Please run again to add users\"\r\n              );\r\n              $(\"#tdGroup\" + this.tableRowId).html(\r\n                \"<span class='ui-icon ui-icon-check'></span> \" +\r\n                  $(\"#tdGroup\" + this.tableRowId).text()\r\n              );\r\n\r\n              if (m_countToCreate == m_countCreated) {\r\n                document.body.style.cursor = \"default\";\r\n                notifyId = SP.UI.Notify.addNotification(\"Completed\", false);\r\n\r\n                m_fnLoadSiteGroups(this.collGroup);\r\n              }\r\n            }\r\n\r\n            function OnFailureUpdateGroupProps(sender, args) {\r\n              m_countCreated++;\r\n\r\n              $(\"#tableRow\" + this.tableRowId).attr(\r\n                \"style\",\r\n                \"background-color:salmon\"\r\n              );\r\n              $(\"#tableRow\" + this.tableRowId).attr(\r\n                \"title\",\r\n                args.get_message()\r\n              );\r\n              $(\"#tdGroup\" + this.tableRowId).html(\r\n                $(\"#tdGroup\" + this.tableRowId).text() +\r\n                  \" - \" +\r\n                  args.get_message()\r\n              );\r\n\r\n              if (m_countToCreate == m_countCreated) {\r\n                document.body.style.cursor = \"default\";\r\n                notifyId = SP.UI.Notify.addNotification(\r\n                  \"Error occurred\",\r\n                  false\r\n                );\r\n              }\r\n            }\r\n            var data = { tableRowId: this.tableRowId, collGroup: collGroup };\r\n            currCtx.executeQueryAsync(\r\n              Function.createDelegate(data, OnSuccessUpdateGroupProps),\r\n              Function.createDelegate(data, OnFailureUpdateGroupProps)\r\n            );\r\n          }\r\n\r\n          function OnFailureCreateGroup(sender, args) {\r\n            $(\"#tableRow\" + this.tableRowId).attr(\r\n              \"style\",\r\n              \"background-color:salmon\"\r\n            );\r\n            $(\"#tableRow\" + this.tableRowId).attr(\"title\", args.get_message());\r\n            $(\"#tdGroup\" + this.tableRowId).html(\r\n              $(\"#tdGroup\" + this.tableRowId).text() +\r\n                \" - \" +\r\n                args.get_message()\r\n            );\r\n\r\n            //statusId = SP.UI.Status.addStatus(\"Unable to : \"  + args.get_message() + \"\\n\" + args.get_stackTrace());\r\n            m_countCreated++;\r\n            if (m_countToCreate == m_countCreated) {\r\n              document.body.style.cursor = \"default\";\r\n              notifyId = SP.UI.Notify.addNotification(\"Completed\", false);\r\n            }\r\n          }\r\n\r\n          var data = { tableRowId: x, group: newGRP };\r\n          currCtx.executeQueryAsync(\r\n            Function.createDelegate(data, OnSuccessCreateGroup),\r\n            Function.createDelegate(data, OnFailureCreateGroup)\r\n          );\r\n        }\r\n\r\n        if (oBulkItem.isValid) {\r\n          m_countToCreate++;\r\n\r\n          var currCtx = new SP.ClientContext.get_current();\r\n          var web = currCtx.get_web();\r\n\r\n          var collGroup = web.get_siteGroups();\r\n          var oGroup = collGroup.getById(oBulkItem.SPGroupID);\r\n          oGroup.set_allowMembersEditMembership(false);\r\n          oGroup.set_onlyAllowMembersViewMembership(false);\r\n          oGroup.set_owner(currCtx.get_web().get_associatedOwnerGroup());\r\n          oGroup.update();\r\n\r\n          /** Delete existing permissions in group */\r\n          var curPerms = oBulkItem.existingUserNames;\r\n          var arrPerm = curPerms.split(\";\");\r\n          for (var y = 0; y < arrPerm.length; y++) {\r\n            var accountName = arrPerm[y];\r\n            if (accountName != null && $.trim(accountName) != \"\") {\r\n              accountName = $.trim(accountName);\r\n              var oUser = web.ensureUser(accountName);\r\n              if (oUser) {\r\n                oGroup.get_users().remove(oUser);\r\n              }\r\n            }\r\n          }\r\n\r\n          /** Add new users to permissions in group */\r\n          var newPerms = oBulkItem.newUserNames;\r\n          if (newPerms != null) {\r\n            var arrPerm = newPerms.split(\";\");\r\n            for (var y = 0; y < arrPerm.length; y++) {\r\n              var accountName = arrPerm[y];\r\n              if (accountName != null && $.trim(accountName) != \"\") {\r\n                accountName = $.trim(accountName);\r\n                var oUser = web.ensureUser(accountName);\r\n                if (oUser) {\r\n                  oGroup.get_users().addUser(oUser);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          function OnSuccess(sender, args) {\r\n            $(\"#tableRow\" + this.tableRowId).attr(\r\n              \"style\",\r\n              \"background-color:palegreen\"\r\n            );\r\n            $(\"#tableRow\" + this.tableRowId).attr(\"title\", \"Created\");\r\n            $(\"#tdGroup\" + this.tableRowId).html(\r\n              \"<span class='ui-icon ui-icon-check'></span> \" +\r\n                $(\"#tdGroup\" + this.tableRowId).text()\r\n            );\r\n\r\n            var currCtx2 = new SP.ClientContext.get_current();\r\n            var itemId = m_arrBulkUsers[this.tableRowId].ID;\r\n            var targetList = currCtx2\r\n              .get_web()\r\n              .get_lists()\r\n              .getByTitle(Audit.Common.Utilities.GetListNameBulkPermissions());\r\n            var targetListItem = targetList.getItemById(itemId);\r\n            targetListItem.deleteObject();\r\n\r\n            currCtx2.executeQueryAsync(\r\n              function () {},\r\n              function () {}\r\n            );\r\n\r\n            m_countCreated++;\r\n            if (m_countToCreate == m_countCreated) {\r\n              document.body.style.cursor = \"default\";\r\n              notifyId = SP.UI.Notify.addNotification(\"Completed\", false);\r\n            }\r\n          }\r\n          function OnFailure(sender, args) {\r\n            $(\"#tableRow\" + this.tableRowId).attr(\r\n              \"style\",\r\n              \"background-color:salmon\"\r\n            );\r\n            $(\"#tableRow\" + this.tableRowId).attr(\"title\", args.get_message());\r\n            $(\"#tdGroup\" + this.tableRowId).html(\r\n              $(\"#tdGroup\" + this.tableRowId).text() +\r\n                \" - \" +\r\n                args.get_message()\r\n            );\r\n\r\n            //statusId = SP.UI.Status.addStatus(\"Unable to : \"  + args.get_message() + \"\\n\" + args.get_stackTrace());\r\n            m_countCreated++;\r\n            if (m_countToCreate == m_countCreated) {\r\n              document.body.style.cursor = \"default\";\r\n              notifyId = SP.UI.Notify.addNotification(\"Completed\", false);\r\n            }\r\n          }\r\n\r\n          var data = { tableRowId: x };\r\n          currCtx.executeQueryAsync(\r\n            Function.createDelegate(data, OnSuccess),\r\n            Function.createDelegate(data, OnFailure)\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function m_fnBindHandlersOnLoad() {\r\n    $(\"#btnUploadUsers\").click(function () {\r\n      m_fnUploadUsers();\r\n    });\r\n    $(\"#btnLoadUsers\").click(function () {\r\n      m_fnLoadBulkUsers();\r\n    });\r\n    $(\"#btnCreateUsers\").click(function () {\r\n      m_fnCreateUsers();\r\n    });\r\n  }\r\n\r\n  function OnCallbackForm(result, value) {\r\n    m_fnLoadBulkUsers();\r\n  }\r\n\r\n  var publicMembers = {\r\n    Refresh: m_fnRefresh,\r\n  };\r\n\r\n  return publicMembers;\r\n};\r\n"],
  "mappings": "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",
  "names": ["onUpdateAOPermsSucceeded", "onUpdateAOPermsFailed", "roleDefBindingCollRestrictedContribute", "data", "html", "InitReport", "notifyId", "collGroup", "userDisplayName", "currCtx", "sender", "args", "data", "result"]
}
