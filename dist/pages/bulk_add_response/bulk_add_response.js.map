{
  "version": 3,
  "sources": ["../../../src/pages/bulk_add_response/BulkAddResponse_Template.js", "../../../src/pages/bulk_add_response/bulk_add_response.js"],
  "sourcesContent": ["\uFEFFconst html = String.raw;\r\n\r\nexport const bulkAddResponseTemplate = html`\r\n  <div class=\"audit\">\r\n    <div id=\"divLoading\" style=\"color: green\">Loading...</div>\r\n    <div id=\"divLoadSettings\" style=\"display: none\">\r\n      <fieldset>\r\n        <legend>\r\n          Add Responses to Request Number:\r\n          <span id=\"divRequestNumber\" style=\"font-weight: bold\"></span>\r\n        </legend>\r\n        <div style=\"padding-top: 10px\">\r\n          <a href=\"javascript:void\" id=\"btnUploadResponses\"\r\n            ><span class=\"ui-icon ui-icon-gear\"></span>Upload Responses to be\r\n            Created</a\r\n          >\r\n        </div>\r\n        <div style=\"padding-top: 10px\">\r\n          <a href=\"javascript:void\" id=\"btnLoadResponses\" style=\"display: none\"\r\n            >Click Here to Display Uploaded Responses</a\r\n          >\r\n        </div>\r\n      </fieldset>\r\n    </div>\r\n    <div id=\"divLoadBulkResponsesOutput\" style=\"padding-top: 15px\"></div>\r\n    <div style=\"padding-top: 15px\">\r\n      <a\r\n        href=\"javascript:void\"\r\n        id=\"btnCreateResponses\"\r\n        style=\"display: none\"\r\n        title=\"Click here to Create the Responses\"\r\n        ><span class=\"ui-icon ui-icon-disk\"></span>Create Responses</a\r\n      >\r\n      <div style=\"padding-top: 15px\">\r\n        <input\r\n          id=\"btnCancel\"\r\n          type=\"button\"\r\n          class=\"ms-ButtonHeightWidth\"\r\n          value=\"Close\"\r\n          title=\"Close\"\r\n          onclick=\"SP.UI.ModalDialog.commonModalDialogClose(SP.UI.DialogResult.cancel)\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n`;\r\n", "\uFEFFimport { bulkAddResponseTemplate } from \"./BulkAddResponse_Template.js\";\r\nvar Audit = window.Audit || {};\r\nAudit.BulkAddResponse = Audit.BulkAddResponse || {};\r\n\r\nif (document.readyState === \"ready\" || document.readyState === \"complete\") {\r\n  InitBulk();\r\n} else {\r\n  document.onreadystatechange = () => {\r\n    if (document.readyState === \"complete\" || document.readyState === \"ready\") {\r\n      ExecuteOrDelayUntilScriptLoaded(function () {\r\n        SP.SOD.executeFunc(\"sp.js\", \"SP.ClientContext\", InitBulk);\r\n      }, \"sp.js\");\r\n    }\r\n  };\r\n}\r\n\r\nfunction InitBulk() {\r\n  document.getElementById(\"app\").innerHTML = bulkAddResponseTemplate;\r\n\r\n  Audit.BulkAddResponse.Report = new Audit.BulkAddResponse.Load();\r\n  Audit.BulkAddResponse.Init();\r\n}\r\n\r\nAudit.BulkAddResponse.Init = function () {};\r\n\r\nAudit.BulkAddResponse.Load = function () {\r\n  var m_reqNum = GetUrlKeyValue(\"ReqNum\");\r\n\r\n  if (m_reqNum == null || m_reqNum == \"\" || m_reqNum == undefined) {\r\n    var statusId = SP.UI.Status.addStatus(\r\n      \"Error: Request Number was not specified. Please verify the URL Parameters or Launch from the IA Dashboard\"\r\n    );\r\n    SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n\r\n    return;\r\n  }\r\n\r\n  $(\"#divRequestNumber\").text(m_reqNum);\r\n\r\n  var m_oRequest = null;\r\n  var m_arrResponses = new Array();\r\n  var m_arrResponseFolders = new Array();\r\n  var m_arrBulkResponses = new Array();\r\n  var m_listViewId = null;\r\n\r\n  var m_requestItems;\r\n  var m_responseItems;\r\n  var m_ResponseDocsFoldersItems;\r\n  var m_aoItems;\r\n  var m_view;\r\n  var m_groupColl;\r\n\r\n  var m_ownerGroupName = null;\r\n  var m_memberGroupName = null;\r\n  var m_visitorGroupName = null;\r\n\r\n  LoadInfo();\r\n\r\n  function LoadInfo() {\r\n    $(\"#divTblOutput\").html(\"\");\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var requestList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleRequests());\r\n    var requestQuery = new SP.CamlQuery();\r\n    requestQuery.set_viewXml(\r\n      '<View><Query><OrderBy><FieldRef Name=\"Title\"/></OrderBy></Query></View>'\r\n    );\r\n    m_requestItems = requestList.getItems(requestQuery);\r\n    //request status has internal name as response status in the request list\r\n    currCtx.load(\r\n      m_requestItems,\r\n      \"Include(ID, Title, ReqSubject, ReqStatus, IsSample, ReqDueDate, InternalDueDate, ActionOffice)\"\r\n    );\r\n\r\n    var responseList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleResponses());\r\n    var responseQuery = new SP.CamlQuery();\r\n    responseQuery.set_viewXml(\r\n      '<View Scope=\"RecursiveAll\"><Query><OrderBy><FieldRef Name=\"ReqNum\"/></OrderBy></Query></View>'\r\n    );\r\n    m_responseItems = responseList.getItems(responseQuery);\r\n    currCtx.load(\r\n      m_responseItems,\r\n      \"Include(ID, Title, ReqNum, ActionOffice, SampleNumber)\"\r\n    );\r\n\r\n    var responseDocsLibFolderslist = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetLibTitleResponseDocs());\r\n    var responseDocsLibFolderslistQuery = new SP.CamlQuery();\r\n    responseDocsLibFolderslistQuery.set_viewXml(\r\n      '<View><Query><OrderBy><FieldRef Name=\"Name\"/></OrderBy><Where><Eq><FieldRef Name=\"FSObjType\" /><Value Type=\"Lookup\">1</Value></Eq></Where></Query></View>'\r\n    );\r\n    responseDocsLibFolderslistQuery.set_folderServerRelativeUrl(\r\n      Audit.Common.Utilities.GetSiteUrl() +\r\n        \"/\" +\r\n        Audit.Common.Utilities.GetLibNameResponseDocs()\r\n    );\r\n    m_ResponseDocsFoldersItems = responseDocsLibFolderslist.getItems(\r\n      responseDocsLibFolderslistQuery\r\n    );\r\n    currCtx.load(\r\n      m_ResponseDocsFoldersItems,\r\n      \"Include( DisplayName, Id, ContentType)\"\r\n    );\r\n\r\n    var aoList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleActionOffices());\r\n    var aoQuery = new SP.CamlQuery();\r\n    aoQuery.set_viewXml(\r\n      '<View><Query><OrderBy><FieldRef Name=\"Title\"/></OrderBy></Query></View>'\r\n    );\r\n    m_aoItems = aoList.getItems(aoQuery);\r\n    currCtx.load(m_aoItems, \"Include(ID, Title, UserGroup)\");\r\n\r\n    var m_bulkResponsesList = currCtx\r\n      .get_web()\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListNameBulkResponses());\r\n    m_view = m_bulkResponsesList.get_views().getByTitle(\"All Items\");\r\n    currCtx.load(m_view);\r\n    //currCtx.load(m_bulkResponsesList , 'Title', 'Id', 'Views');\r\n\r\n    m_groupColl = web.get_siteGroups();\r\n    currCtx.load(m_groupColl);\r\n\r\n    var ownerGroup = web.get_associatedOwnerGroup();\r\n    var memberGroup = web.get_associatedMemberGroup();\r\n    var visitorGroup = web.get_associatedVisitorGroup();\r\n    currCtx.load(ownerGroup);\r\n    currCtx.load(memberGroup);\r\n    currCtx.load(visitorGroup);\r\n\r\n    currCtx.executeQueryAsync(OnSuccess, OnFailure);\r\n    function OnSuccess(sender, args) {\r\n      $(\"#divLoadSettings\").show();\r\n      $(\"#divLoading\").hide();\r\n\r\n      m_listViewId = m_view.get_id();\r\n\r\n      Audit.Common.Utilities.LoadSiteGroups(m_groupColl);\r\n      Audit.Common.Utilities.LoadActionOffices(m_aoItems);\r\n\r\n      m_ownerGroupName = ownerGroup.get_title();\r\n      m_memberGroupName = memberGroup.get_title();\r\n      m_visitorGroupName = visitorGroup.get_title();\r\n\r\n      m_fnLoadRequests();\r\n      if (m_oRequest == null || m_oRequest.number == null) {\r\n        statusId = SP.UI.Status.addStatus(\r\n          \"Error: Request Number does not exist in the Request List. Please verify the URL Parameters and that the Request Number already exists\"\r\n        );\r\n        SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n        $(\"#divLoadSettings\").hide();\r\n\r\n        return;\r\n      }\r\n\r\n      m_fnLoadResponses();\r\n      m_fnLoadResponseFolders();\r\n      m_fnBindHandlersOnLoad();\r\n\r\n      var isModalDlg = GetUrlKeyValue(\"IsDlg\");\r\n      if (isModalDlg == null || isModalDlg == \"\" || isModalDlg == false) {\r\n        $(\"#btnRefresh\").show();\r\n      }\r\n    }\r\n    function OnFailure(sender, args) {\r\n      $(\"#divLoading\").hide();\r\n\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Request failed: \" + args.get_message() + \"\\n\" + args.get_stackTrace()\r\n      );\r\n      SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n    }\r\n  }\r\n\r\n  function m_fnRefresh() {\r\n    var curPath = location.pathname;\r\n\r\n    var tabIndex = $(\"#tabs\").tabs(\"option\", \"active\");\r\n    curPath += \"?Tab=\" + tabIndex;\r\n\r\n    location.href = curPath;\r\n  }\r\n\r\n  function m_fnLoadRequests() {\r\n    var currCtx = SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var listItemEnumerator = m_requestItems.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var id = oListItem.get_item(\"ID\");\r\n      var number = oListItem.get_item(\"Title\");\r\n      if (number != m_reqNum) continue;\r\n      var status = oListItem.get_item(\"ReqStatus\");\r\n\r\n      var sample = oListItem.get_item(\"IsSample\");\r\n      var arrActionOffice = oListItem.get_item(\"ActionOffice\");\r\n      var actionOffice = \"\";\r\n      for (var x = 0; x < arrActionOffice.length; x++) {\r\n        actionOffice +=\r\n          \"<div>\" + arrActionOffice[x].get_lookupValue() + \"</div>\";\r\n      }\r\n\r\n      var requestObject = new Object();\r\n      requestObject[\"ID\"] = id;\r\n      requestObject[\"number\"] = number;\r\n      requestObject[\"status\"] = status;\r\n      requestObject[\"sample\"] = sample;\r\n      requestObject[\"responses\"] = new Array();\r\n      requestObject[\"actionOffice\"] = actionOffice;\r\n      requestObject[\"item\"] = oListItem;\r\n\r\n      m_oRequest = requestObject;\r\n    }\r\n  }\r\n\r\n  function m_fnLoadResponses() {\r\n    m_arrResponses = new Array();\r\n\r\n    var listItemEnumerator = m_responseItems.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var number = oListItem.get_item(\"ReqNum\");\r\n      if (number != null) {\r\n        number = number.get_lookupValue();\r\n        if (number != m_reqNum) continue;\r\n\r\n        var responseObject = new Object();\r\n        responseObject[\"ID\"] = oListItem.get_item(\"ID\");\r\n        responseObject[\"number\"] = number;\r\n        responseObject[\"title\"] = oListItem.get_item(\"Title\");\r\n        responseObject[\"item\"] = oListItem;\r\n\r\n        responseObject[\"sample\"] = oListItem.get_item(\"SampleNumber\");\r\n        if (responseObject[\"sample\"] == null) responseObject[\"sample\"] = \"\";\r\n\r\n        responseObject[\"actionOffice\"] = oListItem.get_item(\"ActionOffice\");\r\n        if (responseObject[\"actionOffice\"] == null)\r\n          responseObject[\"actionOffice\"] = \"\";\r\n        else\r\n          responseObject[\"actionOffice\"] =\r\n            responseObject[\"actionOffice\"].get_lookupValue();\r\n\r\n        m_arrResponses.push(responseObject);\r\n      }\r\n    }\r\n  }\r\n\r\n  function m_fnLoadResponseFolders() {\r\n    var m_arrResponseFolders = new Array();\r\n\r\n    var listItemEnumerator = m_ResponseDocsFoldersItems.getEnumerator();\r\n    while (listItemEnumerator.moveNext()) {\r\n      var oListItem = listItemEnumerator.get_current();\r\n\r\n      var folderName = oListItem.get_displayName();\r\n      for (var x = 0; x < m_arrResponses.length; x++) {\r\n        if (m_arrResponses[x].title == folderName) {\r\n          var responseFolderObject = new Object();\r\n          responseFolderObject[\"title\"] = folderName;\r\n          responseFolderObject[\"response\"] = m_arrResponses[x];\r\n\r\n          m_arrResponseFolders.push(responseFolderObject);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function m_fnUploadResponses() {\r\n    var formName = \"DispForm.aspx\";\r\n    var options = SP.UI.$create_DialogOptions();\r\n    options.title = \"Upload Responses (\" + m_reqNum + \")\";\r\n    options.dialogReturnValueCallback = OnCallbackForm;\r\n\r\n    var guid = m_listViewId.toString();\r\n    guid = guid.replace(/-/g, \"%2D\");\r\n    guid = guid.toUpperCase();\r\n    options.url =\r\n      Audit.Common.Utilities.GetSiteUrl() +\r\n      \"/Lists/\" +\r\n      Audit.Common.Utilities.GetListNameBulkResponses() +\r\n      \"/AllItems.aspx\" +\r\n      \"?ShowInGrid=True&View=%7B\" +\r\n      guid +\r\n      \"%7D\";\r\n    options.height = 700;\r\n    SP.UI.ModalDialog.showModalDialog(options);\r\n  }\r\n\r\n  var validation = {\r\n    isNotEmpty: function (str) {\r\n      var pattern = /\\S+/;\r\n      return pattern.test(str); // returns a boolean\r\n    },\r\n    isNumber: function (str) {\r\n      var pattern = /^\\d+$/;\r\n      return pattern.test(str); // returns a boolean\r\n    },\r\n  };\r\n\r\n  function m_fnLoadBulkResponses() {\r\n    m_arrBulkResponses = new Array();\r\n\r\n    var currCtx = new SP.ClientContext.get_current();\r\n    var web = currCtx.get_web();\r\n\r\n    var bulkResponesList = web\r\n      .get_lists()\r\n      .getByTitle(Audit.Common.Utilities.GetListTitleBulkResponses());\r\n    var bulkResponseQuery = new SP.CamlQuery();\r\n    bulkResponseQuery.set_viewXml(\r\n      '<View><Query><OrderBy><FieldRef Name=\"ID\"/></OrderBy></Query></View>'\r\n    );\r\n    var bulkResponseItems = bulkResponesList.getItems(bulkResponseQuery);\r\n    currCtx.load(\r\n      bulkResponseItems,\r\n      \"Include(ID, Title, ActionOffice, Comments, POC, POCCC)\"\r\n    );\r\n\r\n    function OnSuccess(sender, args) {\r\n      var listItemEnumerator = bulkResponseItems.getEnumerator();\r\n      while (listItemEnumerator.moveNext()) {\r\n        var oListItem = listItemEnumerator.get_current();\r\n\r\n        var id = oListItem.get_item(\"ID\");\r\n        var sampleNumber = oListItem.get_item(\"Title\");\r\n        var actionOffice = oListItem.get_item(\"ActionOffice\").get_lookupValue();\r\n        var comments = oListItem.get_item(\"Comments\");\r\n        if (comments == null) comments = \"\";\r\n\r\n        var bulkResponseObject = new Object();\r\n        bulkResponseObject[\"ID\"] = id;\r\n        bulkResponseObject[\"sampleNumber\"] = sampleNumber;\r\n        bulkResponseObject[\"actionOffice\"] = actionOffice;\r\n        bulkResponseObject[\"comments\"] = comments;\r\n        var newResponseTitle =\r\n          m_reqNum + \"-\" + actionOffice + \"-\" + sampleNumber;\r\n        bulkResponseObject[\"responseTitle\"] = newResponseTitle;\r\n        bulkResponseObject[\"item\"] = oListItem;\r\n\r\n        if (actionOffice && actionOffice.toLowerCase().indexOf(\"fpra\") < 0) {\r\n          bulkResponseObject[\"poc\"] = \"\";\r\n          bulkResponseObject[\"poccc\"] = \"\";\r\n          bulkResponseObject[\"pocID\"] = \"\";\r\n          bulkResponseObject[\"pocccID\"] = \"\";\r\n        } else {\r\n          bulkResponseObject[\"poc\"] = \"\";\r\n          bulkResponseObject[\"poccc\"] = \"\";\r\n          bulkResponseObject[\"pocID\"] = \"\";\r\n          bulkResponseObject[\"pocccID\"] = \"\";\r\n\r\n          if (\r\n            oListItem.get_item(\"POC\") != null &&\r\n            oListItem.get_item(\"POC\").get_lookupValue() != null\r\n          ) {\r\n            bulkResponseObject[\"poc\"] = oListItem\r\n              .get_item(\"POC\")\r\n              .get_lookupValue();\r\n            bulkResponseObject[\"pocID\"] = oListItem\r\n              .get_item(\"POC\")\r\n              .get_lookupId();\r\n          }\r\n\r\n          if (\r\n            oListItem.get_item(\"POCCC\") != null &&\r\n            oListItem.get_item(\"POCCC\").get_lookupValue() != null\r\n          ) {\r\n            bulkResponseObject[\"poccc\"] = oListItem\r\n              .get_item(\"POCCC\")\r\n              .get_lookupValue();\r\n            bulkResponseObject[\"pocccID\"] = oListItem\r\n              .get_item(\"POCCC\")\r\n              .get_lookupId();\r\n          }\r\n        }\r\n\r\n        var bIsValid = true;\r\n        var sInvalidReason = null;\r\n\r\n        if (\r\n          !validation.isNotEmpty(sampleNumber) ||\r\n          !validation.isNumber(sampleNumber)\r\n        ) {\r\n          bIsValid = false;\r\n          sInvalidReason = \"Invalid sample number\";\r\n        }\r\n        if (bIsValid) {\r\n          for (var x = 0; x < m_arrResponses.length; x++) {\r\n            if (m_arrResponses[x].title == newResponseTitle) {\r\n              bIsValid = false;\r\n              sInvalidReason = \"Response with this name exists\";\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (bIsValid) {\r\n          for (var x = 0; x < m_arrResponseFolders.length; x++) {\r\n            if (m_arrResponseFolders[x].title == newResponseTitle) {\r\n              bIsValid = false;\r\n              sInvalidReason = \"Response Folder with this name exists\";\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (bIsValid) {\r\n          var bFound = false;\r\n          for (\r\n            var x = 0;\r\n            x < Audit.Common.Utilities.GetActionOffices().length;\r\n            x++\r\n          ) {\r\n            if (\r\n              Audit.Common.Utilities.GetActionOffices()[x].title == actionOffice\r\n            ) {\r\n              bulkResponseObject[\"actionOfficeID\"] =\r\n                Audit.Common.Utilities.GetActionOffices()[x].ID;\r\n              bFound = true;\r\n            }\r\n          }\r\n          if (!bFound) {\r\n            bIsValid = false;\r\n            sInvalidReason = \"Action Office not found\";\r\n          }\r\n        }\r\n\r\n        bulkResponseObject[\"isValid\"] = bIsValid;\r\n        bulkResponseObject[\"invalidReason\"] = sInvalidReason;\r\n        m_arrBulkResponses.push(bulkResponseObject);\r\n      }\r\n\r\n      var hasOneValid = false;\r\n\r\n      m_arrBulkResponses.sort(function (a, b) {\r\n        a = parseInt(a.sampleNumber, 10);\r\n        b = parseInt(b.sampleNumber, 10);\r\n        return a - b;\r\n      });\r\n\r\n      var output =\r\n        \"<table class='tablesorter report'><tr><thead><th>Request Number</th><th>Action Office</th><th>Sample Number</th><th>Response Title</th><th>Comments</th><th>POC</th><th>POC CC</th></thead></tr>\";\r\n      for (var x = 0; x < m_arrBulkResponses.length; x++) {\r\n        var oBulkItem = m_arrBulkResponses[x];\r\n        if (oBulkItem.isValid) {\r\n          output +=\r\n            \"<tr id='tableRow\" +\r\n            x +\r\n            \"'><td id='tdReq\" +\r\n            x +\r\n            \"'>\" +\r\n            m_reqNum +\r\n            \"</td><td>\" +\r\n            oBulkItem.actionOffice +\r\n            \"</td><td>\" +\r\n            oBulkItem.sampleNumber +\r\n            \"</td><td>\" +\r\n            oBulkItem.responseTitle +\r\n            \"</td><td>\" +\r\n            oBulkItem.comments +\r\n            \"</td><td>\" +\r\n            oBulkItem.poc +\r\n            \"</td><td>\" +\r\n            oBulkItem.poccc +\r\n            \"</td></tr>\";\r\n          hasOneValid = true;\r\n        } else {\r\n          output +=\r\n            \"<tr style='background-color:lightsalmon; font-style:italic;' title='\" +\r\n            oBulkItem.invalidReason +\r\n            \"'><td>\" +\r\n            m_reqNum +\r\n            \"</td><td>\" +\r\n            oBulkItem.actionOffice +\r\n            \"</td><td>\" +\r\n            oBulkItem.sampleNumber +\r\n            \"</td><td>\" +\r\n            oBulkItem.responseTitle +\r\n            \" - \" +\r\n            oBulkItem.invalidReason +\r\n            \"</td><td>\" +\r\n            oBulkItem.comments +\r\n            \"</td><td>\" +\r\n            oBulkItem.poc +\r\n            \"</td><td>\" +\r\n            oBulkItem.poccc +\r\n            \"</td></tr>\";\r\n        }\r\n      }\r\n      $(\"#divLoadBulkResponsesOutput\").html(\r\n        (output +=\r\n          \"<tfoot><tr><th colspan='7'>Total: \" +\r\n          m_arrBulkResponses.length +\r\n          \"</tr></tfoot></table>\")\r\n      );\r\n\r\n      if (m_arrBulkResponses.length == 0) {\r\n        $(\"#divLoadBulkResponsesOutput\").html(\"\");\r\n      }\r\n\r\n      if (hasOneValid) {\r\n        $(\"#btnCreateResponses\").show().focus();\r\n      } else {\r\n        $(\"#btnCreateResponses\").hide();\r\n      }\r\n    }\r\n    function OnFailure(sender, args) {\r\n      statusId = SP.UI.Status.addStatus(\r\n        \"Unable to load from the Bulk Response List: \" +\r\n          args.get_message() +\r\n          \"\\n\" +\r\n          args.get_stackTrace()\r\n      );\r\n      SP.UI.Status.setStatusPriColor(statusId, \"red\");\r\n    }\r\n\r\n    currCtx.executeQueryAsync(OnSuccess, OnFailure);\r\n  }\r\n\r\n  var m_countToCreate = 0;\r\n  var m_countCreated = 0;\r\n  var m_waitDialog = null;\r\n  var m_bCreateRequestFolder = true;\r\n  function m_fnCreateResponses() {\r\n    m_bCreateRequestFolder = true;\r\n\r\n    if (confirm(\"Are you sure you would like to Create the Responses?\")) {\r\n      $(\"#btnUploadResponses\").hide();\r\n      $(\"#btnCreateResponses\").hide();\r\n      $(\"#divLoadSettings\").hide();\r\n      $(\"#btnCancel\").hide();\r\n\r\n      document.body.style.cursor = \"wait\";\r\n\r\n      if (\r\n        window.parent != null &&\r\n        window.parent.document.getElementById(\"divRanBulkUpdate\") != null\r\n      )\r\n        window.parent.document.getElementById(\"divRanBulkUpdate\").innerText = 1;\r\n\r\n      m_waitDialog = SP.UI.ModalDialog.showWaitScreenWithNoClose(\r\n        \"Creating Responses\",\r\n        \"Please wait... Creating Responses\",\r\n        200,\r\n        400\r\n      );\r\n\r\n      for (var x = 0; x < m_arrBulkResponses.length; x++) {\r\n        var oBulkItem = m_arrBulkResponses[x];\r\n        if (oBulkItem.isValid) {\r\n          m_countToCreate++;\r\n\r\n          var currCtx = new SP.ClientContext.get_current();\r\n          var currentUser = currCtx.get_web().get_currentUser();\r\n          var ownerGroup = currCtx.get_web().get_associatedOwnerGroup();\r\n          var memberGroup = currCtx.get_web().get_associatedMemberGroup();\r\n          var visitorGroup = currCtx.get_web().get_associatedVisitorGroup();\r\n\r\n          var responseTitle = oBulkItem.responseTitle;\r\n\r\n          /************************/\r\n          //Create item in response list\r\n          var responseList = currCtx\r\n            .get_web()\r\n            .get_lists()\r\n            .getByTitle(Audit.Common.Utilities.GetListTitleResponses());\r\n          var itemCreateInfo = new SP.ListItemCreationInformation();\r\n          var oListItem = responseList.addItem(itemCreateInfo);\r\n          oListItem.set_item(\"Title\", responseTitle);\r\n          oListItem.set_item(\"ReqNum\", m_oRequest.ID);\r\n          oListItem.set_item(\"SampleNumber\", oBulkItem.sampleNumber);\r\n          oListItem.set_item(\"ActionOffice\", oBulkItem.actionOfficeID);\r\n\r\n          if (oBulkItem.poc != \"\") {\r\n            var assignedToVal = new SP.FieldUserValue();\r\n            assignedToVal.set_lookupId(oBulkItem.pocID); //specify User Id\r\n            oListItem.set_item(\"POC\", assignedToVal);\r\n          }\r\n\r\n          if (oBulkItem.poccc != \"\") {\r\n            var assignedToVal = new SP.FieldUserValue();\r\n            assignedToVal.set_lookupId(oBulkItem.pocccID); //specify User Id\r\n            oListItem.set_item(\"POCCC\", assignedToVal);\r\n          }\r\n\r\n          oListItem.update();\r\n\r\n          oListItem.breakRoleInheritance(false, false);\r\n\r\n          var roleDefBindingCollAdmin =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingCollAdmin.add(\r\n            currCtx\r\n              .get_web()\r\n              .get_roleDefinitions()\r\n              .getByType(SP.RoleType.administrator)\r\n          );\r\n\r\n          var roleDefBindingCollContribute =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingCollContribute.add(\r\n            currCtx\r\n              .get_web()\r\n              .get_roleDefinitions()\r\n              .getByType(SP.RoleType.contributor)\r\n          );\r\n\r\n          var roleDefBindingCollRestrictedRead =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingCollRestrictedRead.add(\r\n            currCtx.get_web().get_roleDefinitions().getByName(\"Restricted Read\")\r\n          );\r\n\r\n          var roleDefBindingCollRestrictedContribute =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingCollRestrictedContribute.add(\r\n            currCtx\r\n              .get_web()\r\n              .get_roleDefinitions()\r\n              .getByName(\"Restricted Contribute\")\r\n          );\r\n\r\n          //add owner group\r\n          oListItem\r\n            .get_roleAssignments()\r\n            .add(ownerGroup, roleDefBindingCollAdmin);\r\n\r\n          //add member group\r\n          oListItem\r\n            .get_roleAssignments()\r\n            .add(memberGroup, roleDefBindingCollContribute);\r\n\r\n          //add visitor group\r\n          oListItem\r\n            .get_roleAssignments()\r\n            .add(visitorGroup, roleDefBindingCollRestrictedRead);\r\n\r\n          //add action offices\r\n          var actionOffice = oListItem.get_item(\"ActionOffice\");\r\n          if (actionOffice != null) {\r\n            var actionOfficeName = oBulkItem.actionOffice; //actionOffice.get_lookupValue();\r\n            var actionOfficeGroupName =\r\n              Audit.Common.Utilities.GetAOSPGroupName(actionOfficeName);\r\n            var actionOfficeGroup = Audit.Common.Utilities.GetSPSiteGroup(\r\n              actionOfficeGroupName\r\n            );\r\n\r\n            if (actionOfficeGroup != null) {\r\n              oListItem\r\n                .get_roleAssignments()\r\n                .add(actionOfficeGroup, roleDefBindingCollRestrictedContribute);\r\n            } else return;\r\n          }\r\n          oListItem\r\n            .get_roleAssignments()\r\n            .getByPrincipal(currentUser)\r\n            .deleteObject();\r\n\r\n          /************************/\r\n          //Create response folder\r\n          var responseDocLib = currCtx\r\n            .get_web()\r\n            .get_lists()\r\n            .getByTitle(Audit.Common.Utilities.GetLibTitleResponseDocs());\r\n          var itemCreateInfo = new SP.ListItemCreationInformation();\r\n          itemCreateInfo.set_underlyingObjectType(\r\n            SP.FileSystemObjectType.folder\r\n          );\r\n          itemCreateInfo.set_leafName(responseTitle);\r\n          var oListFolderItem = responseDocLib.addItem(itemCreateInfo);\r\n          oListFolderItem.set_item(\"Title\", responseTitle);\r\n          oListFolderItem.update();\r\n\r\n          oListFolderItem.breakRoleInheritance(false, false);\r\n\r\n          //add owner group\r\n          var roleDefBindingColl =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingColl.add(\r\n            currCtx\r\n              .get_web()\r\n              .get_roleDefinitions()\r\n              .getByType(SP.RoleType.administrator)\r\n          );\r\n          oListFolderItem\r\n            .get_roleAssignments()\r\n            .add(ownerGroup, roleDefBindingColl);\r\n\r\n          //add member group\r\n          var roleDefBindingColl2 =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingColl2.add(\r\n            currCtx\r\n              .get_web()\r\n              .get_roleDefinitions()\r\n              .getByType(SP.RoleType.contributor)\r\n          );\r\n          oListFolderItem\r\n            .get_roleAssignments()\r\n            .add(memberGroup, roleDefBindingColl2);\r\n\r\n          //add visitor group\r\n          var roleDefBindingColl3 =\r\n            SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n          roleDefBindingColl3.add(\r\n            currCtx.get_web().get_roleDefinitions().getByName(\"Restricted Read\")\r\n          );\r\n          oListFolderItem\r\n            .get_roleAssignments()\r\n            .add(visitorGroup, roleDefBindingColl3);\r\n\r\n          //add action office\r\n          var actionOfficeGroupName = Audit.Common.Utilities.GetAOSPGroupName(\r\n            oBulkItem.actionOffice\r\n          );\r\n          var actionOfficeGroupObj = Audit.Common.Utilities.GetSPSiteGroup(\r\n            actionOfficeGroupName\r\n          );\r\n          if (actionOfficeGroupObj != null) {\r\n            var roleDefBindingColl4 =\r\n              SP.RoleDefinitionBindingCollection.newObject(currCtx);\r\n            roleDefBindingColl4.add(\r\n              currCtx\r\n                .get_web()\r\n                .get_roleDefinitions()\r\n                .getByName(\"Restricted Contribute\")\r\n            );\r\n            oListFolderItem\r\n              .get_roleAssignments()\r\n              .add(actionOfficeGroupObj, roleDefBindingColl4);\r\n          }\r\n\r\n          //delete current logged in user from permissions because it gets added by default\r\n          oListFolderItem\r\n            .get_roleAssignments()\r\n            .getByPrincipal(currentUser)\r\n            .deleteObject();\r\n\r\n          var emailList = currCtx\r\n            .get_web()\r\n            .get_lists()\r\n            .getByTitle(Audit.Common.Utilities.GetListTitleEmailHistory());\r\n          var emailListQuery = new SP.CamlQuery();\r\n          emailListQuery.set_viewXml(\r\n            '<View><Query><OrderBy><FieldRef Name=\"ID\"/></OrderBy><Where><Eq><FieldRef Name=\"FSObjType\"/><Value Type=\"Text\">1</Value></Eq></Where></Query></View>'\r\n          );\r\n          var emailListFolderItems = emailList.getItems(emailListQuery);\r\n          currCtx.load(\r\n            emailListFolderItems,\r\n            \"Include(ID, FSObjType, Title, DisplayName)\"\r\n          );\r\n\r\n          function OnSuccess(sender, args) {\r\n            if (m_bCreateRequestFolder) {\r\n              if (\r\n                !Audit.Common.Utilities.CheckIfEmailFolderExists(\r\n                  this.emailListFolderItems,\r\n                  this.requestNumber\r\n                )\r\n              ) {\r\n                Audit.Common.Utilities.CreateEmailFolder(\r\n                  this.emailList,\r\n                  this.requestNumber\r\n                );\r\n              }\r\n              m_bCreateRequestFolder = false;\r\n            }\r\n\r\n            $(\"#tableRow\" + this.tableRowId).attr(\r\n              \"style\",\r\n              \"background-color:palegreen\"\r\n            );\r\n            $(\"#tableRow\" + this.tableRowId).attr(\"title\", \"Created\");\r\n            $(\"#tdReq\" + this.tableRowId).html(\r\n              \"<span class='ui-icon ui-icon-check'></span> \" +\r\n                $(\"#tdReq\" + this.tableRowId).text()\r\n            );\r\n\r\n            var currCtx2 = new SP.ClientContext.get_current();\r\n            var itemId = m_arrBulkResponses[this.tableRowId].ID;\r\n            if (itemId != null && itemId >= 0) {\r\n              //console.log( itemId );\r\n              var targetList = currCtx2\r\n                .get_web()\r\n                .get_lists()\r\n                .getByTitle(Audit.Common.Utilities.GetListTitleBulkResponses());\r\n              var targetListItem = targetList.getItemById(itemId);\r\n              targetListItem.deleteObject();\r\n            }\r\n\r\n            //$(\"#divCntrResponses\").text( m_countCreated + \" of \" + m_countToCreate + \" Responses created\");\r\n\r\n            currCtx2.executeQueryAsync(\r\n              function () {\r\n                m_countCreated++;\r\n                if (m_countToCreate == m_countCreated) {\r\n                  document.body.style.cursor = \"default\";\r\n                  m_waitDialog.close();\r\n                  var notifyId = SP.UI.Notify.addNotification(\r\n                    \"Completed\",\r\n                    false\r\n                  );\r\n                  $(\"#btnCancel\").show();\r\n                }\r\n              },\r\n              function () {\r\n                //alert.log(\"Request failed: \"  + args.get_message() + \"\\n\" + args.get_stackTrace());\r\n\r\n                m_countCreated++;\r\n                if (m_countToCreate == m_countCreated) {\r\n                  document.body.style.cursor = \"default\";\r\n                  m_waitDialog.close();\r\n                  var notifyId = SP.UI.Notify.addNotification(\r\n                    \"Completed\",\r\n                    false\r\n                  );\r\n                  $(\"#btnCancel\").show();\r\n                }\r\n              }\r\n            );\r\n          }\r\n          function OnFailure(sender, args) {\r\n            $(\"#tableRow\" + this.tableRowId).attr(\r\n              \"style\",\r\n              \"background-color:salmon\"\r\n            );\r\n            $(\"#tableRow\" + this.tableRowId).attr(\"title\", args.get_message());\r\n\r\n            //statusId = SP.UI.Status.addStatus(\"Unable to : \"  + args.get_message() + \"\\n\" + args.get_stackTrace());\r\n            m_countCreated++;\r\n            if (m_countToCreate == m_countCreated) {\r\n              document.body.style.cursor = \"default\";\r\n              m_waitDialog.close();\r\n              notifyId = SP.UI.Notify.addNotification(\"Completed\", false);\r\n              $(\"#btnCancel\").show();\r\n            }\r\n          }\r\n\r\n          var data = {\r\n            responseTitle: responseTitle,\r\n            requestNumber: m_oRequest.number,\r\n            tableRowId: x,\r\n            emailList: emailList,\r\n            emailListFolderItems: emailListFolderItems,\r\n          };\r\n          currCtx.executeQueryAsync(\r\n            Function.createDelegate(data, OnSuccess),\r\n            Function.createDelegate(data, OnFailure)\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function m_fnBindHandlersOnLoad() {\r\n    $(\"#btnUploadResponses\").click(function () {\r\n      m_fnUploadResponses();\r\n    });\r\n    $(\"#btnLoadResponses\").click(function () {\r\n      m_fnLoadBulkResponses();\r\n    });\r\n    $(\"#btnCreateResponses\").click(function () {\r\n      m_fnCreateResponses();\r\n    });\r\n  }\r\n\r\n  function OnCallbackForm(result, value) {\r\n    m_fnLoadBulkResponses();\r\n  }\r\n\r\n  var publicMembers = {\r\n    Refresh: m_fnRefresh,\r\n  };\r\n\r\n  return publicMembers;\r\n};\r\n"],
  "mappings": "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",
  "names": ["m_arrResponseFolders", "notifyId"]
}
